!function(){"use strict";angular.module("redandblue",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ui.bootstrap","sn.skrollr","toastr","dndLists","ngFileUpload"])}(),function(){"use strict";function e(e,t,a){function s(){}function l(t,s,l,c){a.ready.then(function(){c.toAnimate=[];var t=new e("#trees-scene .grass-background");t.addStatic("background-color",a.get("grassBackground")),t.addStatic("height",c.scene.height),c.toAnimate.push(t);var s=new e("#trees-scene .treeTrunk");s.addStatic("fill",a.get("treeTrunk")),c.toAnimate.push(s);var l=new e("#trees-scene .treeFoliage1");l.addStatic("fill",a.get("treeFoliage1")),c.toAnimate.push(l);var n=new e("#trees-scene .treeFoliage2");n.addStatic("fill",a.get("treeFoliage2")),c.toAnimate.push(n);var r=new e("#trees-scene .treeFoliage3");r.addStatic("fill",a.get("treeFoliage3")),c.toAnimate.push(r);var o=new e("#trees-scene .treeFoliage4");o.addStatic("fill",a.get("treeFoliage4")),c.toAnimate.push(o),e.start(c.toAnimate)})}var c={restrict:"E",templateUrl:"app/pages/scene/trees/trees.html",controller:s,bindToController:!0,controllerAs:"vm",link:l,scope:{scene:"="}};return c}angular.module("redandblue").directive("trees",e),e.$inject=["Anim8","utils","rbc"]}(),function(){"use strict";function e(e,t,a){function s(){}function l(t,s,l,c){a.ready.then(function(){c.toAnimate=[];var t=new e("#sky-scene .moon");t.addStatic("fill",a.get("moon")),c.toAnimate.push(t);var s=new e("#sky-scene .moon-craters");s.addStatic("fill",a.get("moonCraters")),c.toAnimate.push(s),e.start(c.toAnimate)})}var c={restrict:"E",templateUrl:"app/pages/scene/sky/sky.html",controller:s,bindToController:!0,controllerAs:"vm",link:l,scope:{scene:"="}};return c}angular.module("redandblue").directive("sky",e),e.$inject=["Anim8","utils","rbc"]}(),function(){"use strict";function e(e,t,a){function s(){var e=this;e.toAnimate=[],e.vehiclesParallaxTop=0,e.vehiclesParallaxOffset=e.scene.height*(e.vehiclesParallaxTop-25)/100,e.vehiclesParallaxStart=e.scene.top-t.windowHeight+e.vehiclesParallaxOffset,e.vehiclesParallaxEnd=e.scene.bottom-t.windowHeight+e.vehiclesParallaxOffset,e.scooterHorizontal=-50,e.scooterParallax=50,e.carParallax=-e.scooterParallax,e.carHorizontal=-e.scooterHorizontal}function l(t,s,l,c){a.ready.then(function(){c.toAnimate=[];var t=new e("#grassBackground");t.addStatic("background-color",a.get("grassBackground")),c.toAnimate.push(t);var s=new e("#road-scene .roadBackground");s.addStatic("fill",a.get("roadBackground")),c.toAnimate.push(s);var l=new e("#road-scene .roadPebble");l.addStatic("fill",a.get("roadPebble")),c.toAnimate.push(l);var n=new e("#road-scene .roadGrass");n.addStatic("fill",a.get("roadGrass")),c.toAnimate.push(n);var r=new e("#road-scene .roadStripe");r.addStatic("fill",a.get("roadStripe")),c.toAnimate.push(r);var o=new e("#road-scene .roadTunnelHole");o.addStatic("fill",a.get("roadTunnelHole")),c.toAnimate.push(o);var i=new e("#road-scene .scooterFront");i.addStatic("fill",a.get("scooterFront")),c.toAnimate.push(i);var d=new e("#road-scene .scooterTopFrontMiddle");d.addStatic("fill",a.get("scooterTopFrontMiddle")),c.toAnimate.push(d);var p=new e("#road-scene .scooterInner");p.addStatic("fill",a.get("scooterInner")),c.toAnimate.push(p);var h=new e("#road-scene .scooterBackBottom");h.addStatic("fill",a.get("scooterBackBottom")),c.toAnimate.push(h);var u=new e("#road-scene .scooterTopFrontTop");u.addStatic("fill",a.get("scooterTopFrontTop")),c.toAnimate.push(u);var m=new e("#road-scene .scooterWheelTires");m.addStatic("fill",a.get("scooterWheelTires")),c.toAnimate.push(m);var g=new e("#road-scene .scooterTrunk");g.addStatic("fill",a.get("scooterTrunk")),c.toAnimate.push(g);var v=new e("#road-scene .scooterSaddle");v.addStatic("fill",a.get("scooterSaddle")),c.toAnimate.push(v);var f=new e("#road-scene .scooterWheelRim");f.addStatic("fill",a.get("scooterWheelRim")),c.toAnimate.push(f);var w=new e("#road-scene .scooterWheelHub");w.addStatic("fill",a.get("scooterWheelHub")),c.toAnimate.push(w);var b=new e("#road-scene .scooterMuffler");b.addStatic("fill",a.get("scooterMuffler")),c.toAnimate.push(b);var y=new e("#road-scene .scooterHandlebar");y.addStatic("fill",a.get("scooterHandlebar")),c.toAnimate.push(y);var S=new e("#road-scene .scooterManLegs");S.addStatic("fill",a.get("scooterManLegs")),c.toAnimate.push(S);var M=new e("#road-scene .scooterManBody");M.addStatic("fill",a.get("scooterManBody")),c.toAnimate.push(M);var x=new e("#road-scene .scooterManHelmet");x.addStatic("fill",a.get("scooterManHelmet")),c.toAnimate.push(x);var k=new e("#road-scene .scooterManVisor");k.addStatic("fill",a.get("scooterManVisor")),c.toAnimate.push(k);var P=new e("#road-scene .scooterManScarf");P.addStatic("fill",a.get("scooterManScarf")),c.toAnimate.push(P);var z=new e("#road-scene .treeTrunk");z.addStatic("fill",a.get("treeTrunk")),c.toAnimate.push(z);var C=new e("#road-scene .treeFoliage1");C.addStatic("fill",a.get("treeFoliage1")),c.toAnimate.push(C);var F=new e("#road-scene .treeFoliage2");F.addStatic("fill",a.get("treeFoliage2")),c.toAnimate.push(F);var L=new e("#road-scene .treeFoliage3");L.addStatic("fill",a.get("treeFoliage3")),c.toAnimate.push(L);var A=new e("#road-scene .treeFoliage4");A.addStatic("fill",a.get("treeFoliage4")),c.toAnimate.push(A),e.start(c.toAnimate)})}var c={restrict:"E",templateUrl:"app/pages/scene/road/road.html",controller:s,bindToController:!0,controllerAs:"vm",link:l,scope:{scene:"=",wrapped:"="}};return c}angular.module("redandblue").directive("road",e),e.$inject=["Anim8","utils","rbc"]}(),function(){"use strict";function e(e,t,a){function s(){var e=this,a=-e.scene.height;e.colorStart=e.scene.top+a,e.colorEnd=e.scene.top,e.parallaxStart=e.scene.top-t.windowHeight,e.parallaxEnd=e.scene.bottom,e.sunriseStart=e.colorStart,e.sunriseEnd=e.colorEnd,e.sunriseParallax=50,e.layer3Parallax=-40,e.layer2Parallax=-30,e.layer1Parallax=-20,e.mountainsTop0=45,e.mountainsTop1=38,e.mountainsTop2=35,e.mountainsTop3=30,e.cloud0Parallax=10,e.cloud1Parallax=13}function l(t,s,l,c){a.ready.then(function(){c.toAnimate=[];var t=a.get("mountainsNight"),s=new e("#mountains-scene .mountains0");s.addKeyFrame(c.colorStart,"fill: "+t.toRgbString()),s.addKeyFrame(c.colorEnd,"fill: "+a.get("mountains0").toRgbString()),c.toAnimate.push(s);var l=new e("#mountains-scene .mountains-background");l.addKeyFrame(c.colorStart,"background-color: "+t.toRgbString()),l.addKeyFrame(c.colorEnd,"background-color: "+a.get("mountains0").toRgbString()),l.addStatic("height",c.scene.height),c.toAnimate.push(l);var n=new e("#mountains-scene .mountains1");n.addKeyFrame(c.colorStart,"fill: "+t.toRgbString()),n.addKeyFrame(c.colorEnd,"fill: "+a.get("mountains1").toRgbString()),c.toAnimate.push(n);var r=new e("#mountains-scene .mountains2,#mountains");r.addKeyFrame(c.colorStart,"fill: "+t.toRgbString()),r.addKeyFrame(c.colorEnd,"fill: "+a.get("mountains2").toRgbString()),c.toAnimate.push(r);var o=new e("#mountains-scene .mountains3,#mountains");o.addKeyFrame(c.colorStart,"fill: "+t.toRgbString()),o.addKeyFrame(c.colorEnd,"fill: "+a.get("mountains3").toRgbString()),c.toAnimate.push(o);var i=new e("#mountains-scene .clouds");i.addKeyFrame(c.colorStart,"fill: "+a.get("cloudsNight").toRgbString()),i.addKeyFrame(c.colorEnd,"fill: "+a.get("cloudsDay").toRgbString()),c.toAnimate.push(i);var d=new e("#sky");d.addKeyFrame(c.colorStart,"background-color: "+a.get("skyNight").toRgbString()),d.addKeyFrame(c.colorEnd,"background-color: "+a.get("skyDay").toRgbString()),c.toAnimate.push(d);var p=new e("#mountains-scene .sun");p.addKeyFrame(c.colorStart,"fill: "+a.get("sunNight").toRgbString()),p.addKeyFrame(c.colorEnd,"fill: "+a.get("sunDay").toRgbString()),c.toAnimate.push(p),e.start(c.toAnimate)})}var c={restrict:"E",templateUrl:"app/pages/scene/mountains/mountains.html",controller:s,bindToController:!0,controllerAs:"vm",link:l,scope:{scene:"="}};return c}angular.module("redandblue").directive("mountains",e),e.$inject=["Anim8","utils","rbc"]}(),function(){"use strict";function e(e,t){function a(){var e=this;e.toAnimate=[]}function s(a,s,l,c){t.ready.then(function(){c.toAnimate=[];var a=new e("#church-scene .churchSpire");a.addStatic("fill",t.get("churchSpire")),c.toAnimate.push(a);var s=new e("#church-scene .churchCornice");s.addStatic("fill",t.get("churchCornice")),c.toAnimate.push(s);var l=new e("#church-scene .churchRoofLateral");l.addStatic("fill",t.get("churchRoofLateral")),c.toAnimate.push(l);var n=new e("#church-scene .churchBellTower");n.addStatic("fill",t.get("churchBellTower")),c.toAnimate.push(n);var r=new e("#church-scene .churchBellTowerTip");r.addStatic("fill",t.get("churchBellTowerTip")),c.toAnimate.push(r);var o=new e("#church-scene .churchBellTowerDetails");o.addStatic("fill",t.get("churchBellTowerDetails")),c.toAnimate.push(o);var i=new e("#church-scene .churchFrontCentral");i.addStatic("fill",t.get("churchFrontCentral")),c.toAnimate.push(i);var d=new e("#church-scene .churchFrontLateral");d.addStatic("fill",t.get("churchFrontLateral")),c.toAnimate.push(d);var p=new e("#church-scene .churchRoofCentral");p.addStatic("fill",t.get("churchRoofCentral")),c.toAnimate.push(p);var h=new e("#church-scene .churchSmallWindowsColumns");h.addStatic("fill",t.get("churchSmallWindowsColumns")),c.toAnimate.push(h);var u=new e("#church-scene .churchSmallWindows");u.addStatic("fill",t.get("churchSmallWindows")),c.toAnimate.push(u);var m=new e("#church-scene .churchBigWindows");m.addStatic("fill",t.get("churchBigWindows")),c.toAnimate.push(m);var g=new e("#church-scene .churchBigWindowsColumns");g.addStatic("fill",t.get("churchBigWindowsColumns")),c.toAnimate.push(g);var v=new e("#church-scene .churchDoors");v.addStatic("fill",t.get("churchDoors")),c.toAnimate.push(v),e.start(c.toAnimate)})}var l={restrict:"E",templateUrl:"app/pages/scene/church/church.html",controller:a,bindToController:!0,controllerAs:"vm",link:s,scope:{scene:"=",wrapped:"="}};return l}angular.module("redandblue").directive("church",e),e.$inject=["Anim8","rbc"]}(),function(){"use strict";function e(e){var t=this;e.reset(),t.scenes=e.getScenes(),e.add("sky",1280,1280),e.add("mountains",1280,800),e.add("trees",1280,800),e.add("road",1280,800),e.add("church",1280,800),t.fullScene=e.calculateWrapper(["sky","mountains","trees","road","church"]),t.skyMountains=e.calculateWrapper(["sky","mountains"]),t.grassBackground=e.calculateWrapper(["road","church"])}angular.module("redandblue").controller("SceneController",e),e.$inject=["scenes"]}(),function(){"use strict";function e(e,t,a){var s=this,l=0;s.selected={},s.childrenTypes=[{value:"custom",string:"Custom"},{value:"triad",string:"Triade"},{value:"tetrad",string:"Tetrade"},{value:"mono",string:"Monocr."},{value:"compl.",string:"Compl."},{value:"split",string:"Separa"},{value:"delete",string:"Elimina"}],s.sampleTemplate={color:"#00ff00",id:null,editable:!0},s.associateElements=function(){a.go("main.elements")},s.newChildren=function(e){var t={type:e,elements:[]};return t},s.incrementCounter=function(){l++,s.sampleTemplate.id="n"+l},s.newSample=function(e,t){var a=angular.copy(s.sampleTemplate);return a.color=e,a.editable=angular.isUndefined(t)?!0:t,s.incrementCounter(),a},s.createChildren=function(t,a,l){var c=0,n=null;switch(a){case"custom":t[l]&&"custom"===t[l].type||(t[l]=s.newChildren(a,l));break;case"triad":if(!t[l]||"triad"!==t[l].type)for(t[l]=s.newChildren(a,l),t[l].editable=!1,n=e(t.color).triad(),c=1;c<n.length;c++)t[l].elements.push(s.newSample(n[c].toHexString(),!1));break;case"mono":if(!t[l]||"mono"!==t[l].type)for(t[l]=s.newChildren(a,l),t[l].editable=!1,n=e(t.color).monochromatic(),c=1;c<n.length;c++)t[l].elements.push(s.newSample(n[c].toHexString(),!1));break;case"split":if(!t[l]||"split"!==t[l].type)for(t[l]=s.newChildren(a,l),t[l].editable=!1,n=e(t.color).splitcomplement(),c=1;c<n.length;c++)t[l].elements.push(s.newSample(n[c].toHexString(),!1));break;case"tetrad":if(!t[l]||"tetrad"!==t[l].type)for(t[l]=s.newChildren(a,l),t[l].editable=!1,n=e(t.color).tetrad(),c=1;c<n.length;c++)t[l].elements.push(s.newSample(n[c].toHexString(),!1));break;case"compl.":if(!t[l]||"compl."!==t[l].type){t[l]=s.newChildren(a,l),t[l].editable=!1;var r=e(t.color).complement();t[l].elements.push(s.newSample(r.toHexString(),!1))}break;case"delete":delete t[l]}s.refresh()},s.updateChildren=function(t,a){var l=null,c=[],n=0;switch(t.type){case"custom":angular.forEach(t.elements,function(e){c.push(e.color)});break;case"triad":for(l=e(a).triad(),n=1;n<l.length;n++)c.push(l[n].toHexString());break;case"mono":for(l=e(a).monochromatic(),n=1;n<l.length;n++)c.push(l[n].toHexString());break;case"split":for(l=e(a).splitcomplement(),n=1;n<l.length;n++)c.push(l[n].toHexString());break;case"tetrad":for(l=e(a).tetrad(),n=1;n<l.length;n++)c.push(l[n].toHexString());break;case"compl.":for(l=[e(a).complement()],n=1;n<l.length;n++)c.push(l[n].toHexString())}for(n=0;n<t.elements.length;n++)t.elements[n]&&c[n]&&t.elements[n]!==c[n]&&(t.elements[n].color=c[n],s.update(t.elements[n]))},s.update=function(e){e.right&&s.updateChildren(e.right,e.color),e.down&&s.updateChildren(e.down,e.color)},s.reduce=function(e){e?angular.isArray(e)&&angular.forEach(e,function(e){e.right&&e.right.elements&&(0===e.right.elements.length?delete e.right:s.reduce(e.right.elements)),e.down&&e.down.elements&&(0===e.down.elements.length?delete e.down:s.reduce(e.down.elements))}):(s.reduce(s.projects.curPalette),s.refresh())},s.refresh=function(e){e?"$apply"!==e.$$phase&&e.$apply():s.projects.curPalette=angular.copy(s.projects.curPalette)},s.reindex=function(e){e?(s.incrementCounter(),e.id=s.sampleTemplate.id,e.right&&e.right.elements&&angular.forEach(e.right.elements,s.reindex),e.down&&e.down.elements&&angular.forEach(e.down.elements,s.reindex)):(l=0,angular.forEach(s.projects.curPalette,s.reindex),s.incrementCounter(),s.refresh())},s.countPalette=function(e){if(e){var t=e.length;return angular.forEach(e,function(e){e.right&&e.right.elements&&(t+=s.countPalette(e.right.elements)),e.left&&e.left.elements&&(t+=s.countPalette(e.left.elements))}),t}return s.countPalette(s.projects.curPalette)},s.updateAll=function(){l=s.countPalette(),s.incrementCounter()},s.projects=t,s.projects.onUpdate(s.updateAll),t.ready.then(function(){s.updateAll()})}angular.module("redandblue").controller("PaletteController",e),e.$inject=["tinycolor","projects","$state"]}(),function(){"use strict";function e(e,t,a,s,l){var c=this;c.sampleLists={},c.unmatchedElements=[],c.modifyPalette=function(){s.go("main.palette")},c.elementInserted=function(e,t){angular.forEach(l.curElements,function(a){a.name===e.name&&(a.colorId=t)}),c.updateAll()},c.updateAll=function(){c.unmatchedElements=[],c.sampleLists={},angular.forEach(l.validKeys,function(e){c.sampleLists[e]=[]}),angular.forEach(l.curElements,function(e){l.validKeys.indexOf(e.colorId)>-1?c.sampleLists[e.colorId].push(e):c.unmatchedElements.push(e)})},c.projects=l,l.onUpdate(c.updateAll),l.ready.then(function(){c.updateAll()})}angular.module("redandblue").controller("ElementsController",e),e.$inject=["tinycolor","palette","rbc","$state","projects"]}(),function(){"use strict";function e(){var e={windowHeight:angular.element(window).height(),windowWidth:angular.element(window).width(),aspectRatio:angular.element(window).width()/angular.element(window).height()};return e}angular.module("redandblue").factory("utils",e)}(),function(){"use strict";function e(e){var t=null,a=null,s={add:function(s,l,c){var n={};n.scaling=e.windowWidth/l,n.top=t,n.originalHeight=c,n.height=c*n.scaling,n.bottom=n.top+n.height,n.left=0,n.originalWidth=l,n.width=l*n.scaling,n.right=n.left+n.width,t=n.bottom,a[s]=n},calculateWrapper:function(e){var t=Number.MAX_VALUE,s=0,l=0,c=Number.MAX_VALUE;return angular.forEach(e,function(e){var n=a[e];n&&(n.top<t&&(t=n.top),n.right>s&&(s=n.right),n.bottom>l&&(l=n.bottom),n.left<c&&(c=n.left))}),{top:t,right:s,bottom:l,left:c,height:l-t,width:s-c}},reset:function(){t=0,a={}},getScenes:function(){return a}};return s.reset(),s}angular.module("redandblue").factory("scenes",e),e.$inject=["utils"]}(),function(){"use strict";function e(e){function t(t,a){var s=a.children(".scene-wrapper");if(t.sceneId||(t.sceneId="sw"+Math.ceil(1e7*Math.random())),t.recalculate=function(){var e=0;t.wrapped&&t.wrapped.top&&t.wrapped.top>0&&(e=t.wrapped.top),t.scene.height&&s.css("height",t.scene.height+"px"),t.scene.width&&s.css("width",t.scene.width+"px"),t.scene.top&&s.css("top",t.scene.top-e+"px"),t.scene.left&&s.css("left",t.scene.left+"px")},t.recalculate(),t.scroll){s.addClass("animation fixed");var l=new e(s);l.addKeyFrame(t.scene.top,"top: 0px"),l.addKeyFrame(t.scene.bottom,"top: "+-t.scene.height+"px"),e.start(l)}t.$watch("scene",function(e,a){e!==a&&t.recalculate()})}var a={restrict:"E",template:'<div id="{{ sceneId }}" class="animation scene-wrapper" ng-class="{\'scroll\': scroll, \'no-scroll\': !scroll}"><ng-transclude></ng-transclude></div>',link:t,transclude:!0,scope:{scene:"=",scroll:"=",sceneId:"=",wrapped:"="}};return a}angular.module("redandblue").directive("sceneWrapper",e),e.$inject=["Anim8"]}(),function(){"use strict";function e(e){function t(t,a){if(t.start&&t.end){var s=a.children(".scene-parallax");t.vertical||(t.vertical=0),t.horizontal||(t.horizontal=0);var l=new e(s);l.addKeyFrame(t.start,"transform: translate("+-t.horizontal+"%, "+t.vertical+"%)"),l.addKeyFrame(t.end,"transform: translate("+t.horizontal+"%, "+-t.vertical+"%)"),e.start(l)}}var a={restrict:"E",template:'<div class="scene-parallax"><ng-transclude></ng-transclude></div>',link:t,transclude:!0,scope:{start:"=",end:"=",vertical:"=",horizontal:"="}};return a}angular.module("redandblue").directive("sceneParallax",e),e.$inject=["Anim8"]}(),function(){"use strict";function e(){function e(e,t){var a=t.children(".scene-element-vertical"),s=a.children(".scene-element-horizontal");e.top&&a.css("padding-top",(e.top||0)+"%"),e.horizontal&&s.css("left",e.horizontal+"%"),e.height&&s.css("height",e.height+"%"),e.width&&s.css("width",e.width+"%")}var t={restrict:"E",template:'<div class="scene-element scene-element-vertical"><div class="scene-element-horizontal"><ng-transclude></ng-transclude></div></div>',link:e,transclude:!0,scope:{top:"=",horizontal:"=",height:"=",width:"="}};return t}angular.module("redandblue").directive("sceneElement",e)}(),function(){"use strict";function e(e,t,a){var s,l=null,c=null,n={get:function(t){if(1===n.ready.$$state.status){var a=l[t];return a?a.clone():(e.warn('Color "'+t+'" not found in redandblue colors. Returning an error color.'),l.error.clone())}},loadElements:function(a){l={},l.error=t.get("error"),angular.forEach(a,function(e){l[e.name]=t.get(e.colorId)||void 0}),c=a,e.info("rbc is ready")},getOriginalElements:function(){if(1===t.ready.$$state.status)return c;throw new Error("palette.get(...) called before it was ready")}};return n.ready=a.getElements().then(function(e){return s=e,t.ready}).then(function(){return s}).then(n.loadElements),n}angular.module("redandblue").factory("rbc",e),e.$inject=["$log","palette","rbApi"]}(),function(){"use strict";function e(e,t,a){var s={getPalette:function(){return e.get("/app/data/palette.json").then(function(e){return 200===e.status?e.data:(a.error("Error in rbApi.getPalette()"),t.reject(e.data))})},getElements:function(){return e.get("/app/data/elements.json").then(function(e){return 200===e.status?e.data:(a.error("Error in rbApi.getElements()"),t.reject(e.data))})}};return s}angular.module("redandblue").factory("rbApi",e),e.$inject=["$http","$q","$log"]}(),function(){"use strict";function e(e,t){function a(){var a=this;a.projects=e,a["export"]=function(){var t=new Blob([angular.toJson(e.selectedProject,2)],{type:"text/plain;charset=utf-8"});saveAs(t,e.selectedProject.id+".json")},a["import"]=function(a){var s=new FileReader;s.onload=function(a){var s=angular.fromJson(a.target.result);angular.isObject(s)&&s.id&&s.elements&&s.palette?(t.success("Progetto importato: "+s.id),e.selectedProject=s,e.savedProjects.push(s),e.load(),e.save()):t.error("Il file importato non è un progetto valido")},s.readAsText(a)}}var s={restrict:"E",templateUrl:"app/components/projects/projectsCommands.directive.html",controllerAs:"pcmd",bindToController:!0,controller:a};return s}angular.module("redandblue").directive("projectsCommands",e),e.$inject=["projects","toastr"]}(),function(){"use strict";function e(e,t,a,s,l){var c={savedProjects:[],curPalette:[],curElements:{}};c.save=function(){c.selectedProject.palette=angular.copy(c.curPalette),c.selectedProject.elements=angular.copy(c.curElements),localStorage.setItem("savedProjects",angular.toJson(c.savedProjects)),s.success("Elementi e palette salvati in <b>"+c.selectedProject.id+"</b>.")},c["delete"]=function(){var e=confirm("Sei sicuro di voler eliminare il progetto "+c.selectedProject.id+"?");if(e){var t;for(t=0;t<c.savedProjects.length&&c.savedProjects[t].id!==c.selectedProject.id;t++);t>=0&&t<c.savedProjects.length&&c.savedProjects.splice(t,1),s.warning("Progetto <b>"+c.selectedProject.name+"</b> eliminato."),c.selectedProject=c.savedProjects[0],c.load(),c.save()}};var n=function(){c.curPalette=angular.copy(t.getOriginalPalette()),c.validKeys=angular.copy(t.getValidKeys()),c.selectedProject.palette=angular.copy(c.curPalette)},r=function(){c.curElements=angular.copy(e.getOriginalElements()),c.selectedProject.elements=angular.copy(c.curElements),c.updateCallback&&c.updateCallback()};return c.loadElementsFromJson=function(e){e&&(angular.isString(e)&&(e=angular.fromJson(e)),angular.isObject(e)&&(c.curElements=e))},c.preview=function(){t.loadPalette(c.curPalette),e.loadElements(c.curElements),a.go("main.scene")},c.load=function(){t.loadPalette(angular.copy(c.selectedProject.palette)),angular.forEach(c.curElements,function(e){for(var t=!1,a=0;a<c.selectedProject.elements.length;a++)if(c.selectedProject.elements[a].name===e.name){t=!0;break}if(!t){var s=angular.copy(e);delete s.colorId,c.selectedProject.elements.push(s)}}),e.loadElements(angular.copy(c.selectedProject.elements)),n(),r(),s.success("Elementi e palette caricati da <b>"+c.selectedProject.id+"</b>")},c.create=function(e){c.selectedProject={id:e,palette:angular.copy(c.curPalette),elements:angular.copy(c.curElements)},c.savedProjects.push(c.selectedProject),c.save(),s.success("Nuovo progetto: <b>"+e+"</b>")},c.init=function(){var a=angular.fromJson(localStorage.getItem("savedProjects")||"[]");c.savedProjects=[],angular.forEach(a,function(e){"Originale"!==e.id&&c.savedProjects.push(e)}),c.selectedProject={id:"Originale"},c.savedProjects.push(c.selectedProject);var s=[];s.push(t.ready.then(function(){n()})),s.push(e.ready.then(function(){r()})),c.ready=l.all(s)},c.onUpdate=function(e){c.updateCallback=e},c.init(),c}angular.module("redandblue").factory("projects",e),e.$inject=["rbc","palette","$state","toastr","$q"]}(),function(){"use strict";function e(e,t,a){var s=null,l=0,c=null,n={loadSample:function(t){s[t.id]=e(t.color),l++,t.right&&t.right.elements&&angular.forEach(t.right.elements,function(e){n.loadSample(e)}),t.down&&t.down.elements&&angular.forEach(t.down.elements,function(e){n.loadSample(e)})}},r={get:function(e){if(1===r.ready.$$state.status)return s[e]||null;throw new Error("palette.get(...) called before it was ready")},loadPalette:function(t){s={error:e("#f0f")},angular.forEach(t,function(e){n.loadSample(e)}),c=t,a.info("Palette is ready")},getOriginalPalette:function(){if(1===r.ready.$$state.status)return c;throw new Error("palette.get(...) called before it was ready")},getValidKeys:function(){if(1===r.ready.$$state.status){var e=[];return angular.forEach(s,function(t,a){e.push(a)}),e}throw new Error("palette.get(...) called before it was ready")},count:function(){if(1===r.ready.$$state.status)return l;throw new Error("palette.get(...) called before it was ready")}};return r.ready=t.getPalette().then(r.loadPalette),r}angular.module("redandblue").factory("palette",e),e.$inject=["tinycolor","rbApi","$log"]}(),function(){"use strict";function e(e){var t=function(e){this.selector=e,this.keyframes={},this.statics=[]};return t.prototype.selector=null,t.prototype.keyframes=null,t.prototype.statics=null,t.prototype.addKeyFrame=function(e,t){e+="";var a,s=this.keyframes[e];a=angular.isArray(t)?t:[t],this.keyframes[e]=s?s.concat(a):a},t.prototype.addStatic=function(e,t){this.statics.push([e,t])},t.prototype.generate=function(){var e=this,t=angular.element(e.selector);angular.forEach(e.statics,function(e){t.css(e[0],e[1])});var a=!1;angular.forEach(e.keyframes,function(e,s){t.attr("data-"+s,e.join(";")),a=!0}),a&&t.attr("sn-skrollr","")},t.start=function(t){angular.isArray(t)?angular.forEach(t,function(e){e.generate()}):t.generate(),e.refresh()},t.refresh=function(){e.refresh()},t}angular.module("redandblue").factory("Anim8",e),e.$inject=["snSkrollr"]}(),function(){"use strict";function e(e,t){t.init(),e.debug("runBlock end")}angular.module("redandblue").run(e),e.$inject=["$log","snSkrollr"]}(),function(){"use strict";function e(e,t){e.state("main",{"abstract":!0,template:"<div ui-view></div>"}).state("main.scene",{url:"/",templateUrl:"app/pages/scene/scene.html",controller:"SceneController",controllerAs:"scene"}).state("main.palette",{url:"/palette",templateUrl:"app/pages/palette/palette.html",controller:"PaletteController",controllerAs:"vm"}).state("main.elements",{url:"/elements",templateUrl:"app/pages/elements/elements.html",controller:"ElementsController",controllerAs:"vm"}),t.otherwise("/")}angular.module("redandblue").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("redandblue").constant("moment",moment).constant("Snap",Snap).constant("tinycolor",tinycolor).constant("tinygradient",tinygradient)}(),function(){"use strict";function e(e,t,a,s){e.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!1,t.progressBar=!1,a.html5Mode(!0),a.hashPrefix("!");var l=angular.element(window).height();s.config={smoothScrolling:!0,smoothScrollingDuration:600,constants:{mountains:l,sun:l/2}}}angular.module("redandblue").config(e),e.$inject=["$logProvider","toastrConfig","$locationProvider","snSkrollrProvider"]}(),angular.module("redandblue").run(["$templateCache",function(e){e.put("app/components/projects/projectsCommands.directive.html",'Progetti caricati:<br><select ng-model="pcmd.projects.selectedProject" ng-options="project.id for project in pcmd.projects.savedProjects"></select><button class="save-button" ng-click="pcmd.projects.save()" ng-disabled="pcmd.projects.selectedProject.id === \'Originale\'">Salva</button> <button ng-click="pcmd.projects.load()">Carica</button> <button class="delete-button" ng-click="pcmd.projects.delete()" ng-disabled="pcmd.projects.selectedProject.id === \'Originale\'">Elimina</button><br><br>Crea nuovo progetto:<br><form>Nome <input ng-model="pcmd.newProjectName"> <button id="createProjectButton" ng-click="pcmd.projects.create(pcmd.newProjectName)">Crea</button> <button ng-click="pcmd.export()">Esporta</button> <button type="file" ngf-select="pcmd.import($file)" accept="application/json">Importa</button></form>'),e.put("app/pages/elements/elements.html",'<script type="text/ng-template" id="sample.html"><div class="sample {{ direction }}" > <div class="descriptor"> <div class="name"> {{ sample.id }} </div> <div class="color" ng-style="{\'background-color\': sample.color}" > </div> <ul dnd-list="vm.sampleLists[sample.id]" dnd-drop="vm.elementInserted(item, sample.id)" class="element-list" > <li class="element-repeat" ng-repeat="element in vm.sampleLists[sample.id]" dnd-draggable="element" dnd-effect-allowed="move" dnd-moved="vm.sampleLists[sample.id].splice($index, 1)" dnd-selected="vm.selected = element" ng-class="{selected: vm.selected === element}" ng-include="\'element.html\'" > </li> </ul> </div> <div class="children right" ng-show="sample.right"> <div ng-init="childrenRight = sample.right" ng-include="\'childrenRight.html\'"></div> </div> <div class="children down" ng-show="sample.down"> <div ng-init="childrenDown = sample.down" ng-include="\'childrenDown.html\'"></div> </div> </div></script><script type="text/ng-template" id="childrenRight.html"><span class="arrow"> &lt;-- {{ childrenRight.type }} -- </span> <ul class="children-list right" ng-init="elements = childrenRight.elements" > <li class="each-children right" ng-repeat="sample in elements" ng-class="{selected: vm.selected === sample}" ng-include="\'sample.html\'" > </li> </ul></script><script type="text/ng-template" id="element.html"><div class="element"> {{ element.name }} <div ng-show="vm.selected === element && element.desc"> ({{element.desc}}) </div> </span></script><script type="text/ng-template" id="childrenDown.html"><span class="arrow"> ^<br>|<br>{{ childrenDown.type }}<br>|<br> </span> <ul class="children-list down" ng-init="elements = childrenDown.elements" > <li class="each-children down" ng-repeat="sample in elements" ng-class="{selected: vm.selected === sample}" ng-include="\'sample.html\'" > </li> </ul></script><div class="elements"><div class="tools"><h3>Tools</h3><div><button ng-click="vm.modifyPalette()">Modifica Palette</button> <button ng-click="vm.projects.preview()">Anteprima sito</button></div><span class="load-palette" style="min-width: 300px;">Elementi non associati:<br><ul dnd-list="vm.unmatchedElements" dnd-drop="vm.elementInserted(item, \'unmatched\')" class="unmatched-elements"><li ng-repeat="element in vm.unmatchedElements" dnd-draggable="element" dnd-effect-allowed="move" dnd-moved="vm.unmatchedElements.splice($index, 1)" dnd-selected="vm.selected = element" ng-class="{selected: vm.selected === element}" ng-include="\'element.html\'"></li></ul></span> <span class="load-palette"><projects-commands></projects-commands></span></div><h5>Trascina gli elementi da associare nei riquadri sotto i colori per associarli</h5><ul><li class="palette-element" ng-repeat="sample in vm.projects.curPalette" ng-class="{selected: vm.selected === sample}" ng-include="\'sample.html\'"></li></ul></div>'),e.put("app/pages/palette/palette.html",'<script type="text/ng-template" id="sample.html"><div class="sample {{ direction }}" ng-init="ask = false" > <div class="descriptor"> <div class="name"> {{ sample.id }} </div> <div class="color" ng-style="{\'background-color\': sample.color}" > <span class="controls"> <a class="add-right" ng-click="ask=\'right\'" > <span>&gt;</span> </a> <a class="add-down" ng-click="ask=\'down\'" > <span>v</span> </a> <div class="question" ng-style="{\'background-color\': sample.color}" ng-show="ask" > <div class="question-back" ng-init="selectedType = sample[ask].type || \'custom\'"> Aggiungi {{ ask === \'right\' ? \'a destra\' : \'in basso\'}} <select ng-model="selectedType" ng-options="ctype.value as ctype.string for ctype in vm.childrenTypes" > </select> <a class="button-cancel" ng-click="ask = false" > X </a> <a class="button-ok" ng-click="vm.createChildren(sample, selectedType, ask);ask = false" > V </a> </div> </div> </span> </div> <div class="hex"> <span ng-show="vm.selected !== sample"> {{ sample.color }} </span> <input ng-show="vm.selected === sample" type="text" ng-model="sample.color" ng-change="vm.update(sample);vm.refresh(this)" dnd-nodrag /> </div> </div> <div class="children right" ng-show="sample.right"> <div ng-init="childrenRight = sample.right" ng-include="\'childrenRight.html\'"></div> </div> <div class="children down" ng-show="sample.down"> <div ng-init="childrenDown = sample.down" ng-include="\'childrenDown.html\'"></div> </div> </div></script><script type="text/ng-template" id="childrenRight.html"><span class="arrow"> &lt;-- {{ childrenRight.type }} -- </span> <ul class="children-list right" dnd-list="childrenRight.elements" ng-init="elements = childrenRight.elements" > <li class="each-children right" ng-repeat="sample in elements" dnd-draggable="sample" dnd-effect-allowed="move" dnd-moved="elements.splice($index, 1);vm.reduce()" dnd-selected="vm.selected = sample" ng-class="{selected: vm.selected === sample}" ng-include="\'sample.html\'" > </li> </ul></script><script type="text/ng-template" id="childrenDown.html"><span class="arrow"> ^<br>|<br>{{ childrenDown.type }}<br>|<br> </span> <ul class="children-list down" dnd-list="childrenDown.elements" ng-init="elements = childrenDown.elements" dnd-disable-if="childrenDown.type !== \'custom\'" > <li class="each-children down" ng-repeat="sample in elements" dnd-draggable="sample" dnd-effect-allowed="move" dnd-disable-if="childrenDown.type !== \'custom\'" dnd-moved="elements.splice($index, 1);vm.reduce()" dnd-selected="vm.selected = sample" ng-class="{selected: vm.selected === sample}" ng-include="\'sample.html\'" > </li> </ul></script><div class="palette"><div class="tools"><h3>Tools</h3><div style="margin-bottom: 10px;"><button ng-click="vm.associateElements()">Associa elementi</button> <button ng-click="vm.projects.preview()">Anteprima sito</button></div><div class="color-tools"><div class="new-color"><span class="new-color-label" dnd-draggable="vm.sampleTemplate" dnd-effect-allowed="copy" dnd-copied="vm.incrementCounter()" ng-style="{\'background-color\': vm.sampleTemplate.color}">Nuovo colore<br>(trascina da qui)</span></div><div class="delete-sample" dnd-list="[]"><span>Elimina colore<br>(trascina qui)</span></div><div><button ng-click="vm.reindex()">Riordina gli indici</button></div></div><span class="load-palette"><projects-commands></projects-commands></span></div><h5>Trascina qui sotto i colori per creare una palette. Clicca per selezionare, aggiungere colori dipendenti e cambiare esadecimali. Solo i colori custom possono essere modificati</h5><ul dnd-list="vm.projects.curPalette"><li class="palette-element" ng-repeat="sample in vm.projects.curPalette" dnd-draggable="sample" dnd-effect-allowed="move" dnd-moved="vm.projects.curPalette.splice($index, 1)" dnd-selected="vm.selected = sample" ng-class="{selected: vm.selected === sample}" ng-include="\'sample.html\'"></li></ul></div>'),
e.put("app/pages/scene/scene.html",'<scene-wrapper scene="scene.fullScene" scroll="true"><scene-wrapper scene="scene.skyMountains"><div id="sky" class="absolute fill"><sky scene="scene.scenes.sky"></sky><mountains scene="scene.scenes.mountains"></mountains></div></scene-wrapper><trees scene="scene.scenes.trees"></trees><scene-wrapper scene="scene.grassBackground"><div id="grassBackground" class="absolute fill"><road scene="scene.scenes.road" wrapped="scene.grassBackground"></road><church scene="scene.scenes.church" wrapped="scene.grassBackground"></church></div></scene-wrapper></scene-wrapper>'),e.put("app/pages/scene/church/church.html",'<scene-wrapper scene="vm.scene" id="church-scene" wrapped="vm.wrapped"><scene-element top="10" width="20"><svg viewbox="0 0 168.5 412.125"><polyline class="churchCornice" points="1.25,350.875 1.5,342.625 46.667,305.937 121.667,305.114 165.5,342.62 165.833,349.315 121.5,311.625 47.344,311.437 1.833,350.542 1.833,350.542"></polyline><polyline class="churchRoofLateral" points="121.333,304.803 165.5,342.62 165.5,233.803 120.333,204.292 121.167,304.719"></polyline><polyline class="churchBellTower" points="13.5,228.625 13.5,141.625 29.5,141.542 29.5,217.625 13.5,228.625"></polyline><path class="churchBellTower" d="M14.25,99.5l0.54-40.25c0,0,3.241,1.872,6.52,1.75c3.373-0.125,5.486-1.75,5.486-1.75l1.079,40L14.25,99.5z"></path><path class="churchCornice" d="M13.5,141.625v-26c0,0-4.583-0.667-5.25-5S8,98.125,8,98.125s3.676,0.96,5.167,1 c1.914,0.052,10.625,0.042,12.75,0c0,0,6.878-1.358,7.542-1.292c0.417,0.042,0.542,12.792-1.125,14.625 c-1.667,1.833-3,2.667-3,2.667l0.167,26.667L13.5,141.625z"></path><polygon class="churchBellTowerTip" points="14.79,59.25 21.13,1.625 26.796,59.25 20.59,62.958"></polygon><path class="churchBellTowerDetails" d="M14.342,114.778c0,0-0.172-4.654,1.034-4.654s1.29,4.667,1.29,4.667"></path><path class="churchBellTowerDetails" d="M26.509,114.778c0,0-0.172-4.654,1.034-4.654s1.29,4.667,1.29,4.667"></path><path class="churchBellTowerDetails" d="M23.509,114.778c0,0-0.172-4.654,1.034-4.654s1.29,4.667,1.29,4.667"></path><path class="churchBellTowerDetails" d="M17.509,114.778c0,0-0.172-4.654,1.034-4.654s1.29,4.667,1.29,4.667"></path><path class="churchBellTowerDetails" d="M20.509,114.778c0,0-0.172-4.654,1.034-4.654s1.29,4.667,1.29,4.667"></path><polygon class="churchFrontCentral churchFrontCentralStroke" points="47,305.625 46.167,268.125 83.5,234.853 121,267.458 121,304.625"></polygon><polyline class="churchFrontCentral churchFrontCentralStroke" points="47.167,311.958 121,312.125 121,409.125 46.5,409.125 47.5,311.625"></polyline><polygon class="churchFrontLateral" points="121.496,311.657 165.679,349.315 166.167,409.458 121.333,409.792"></polygon><polygon class="churchFrontLateral" points="47.167,311.437 46.667,409.625 1.5,409.625 1.25,350.5"></polygon><polygon class="churchRoofLateral" points="1.667,342.458 2.5,235.267 47.5,205.958 46.667,305.966"></polygon><polygon class="churchRoofCentral" points="47,251.875 47.333,149.667 83.5,116.354 121.5,149.625 121.5,251.625 84.5,219.855"></polygon><path class="churchSpire" d="M82,220.267c0,0,1.167-22.567,2.167-22.392c1,0.175,2.167,22.917,2.167,22.917L82,220.267z"></path><path class="churchSpire" d="M116.833,249.125l4.667,4.333c0,0-0.333-19.833-1.833-20.333C118.101,232.603,116.833,249.125,116.833,249.125"></path><path class="churchSpire" d="M47.333,251.458l-0.5-0.083c0,0-0.167-19.583,1-19.25c1.167,0.333,2.833,15.667,2.833,15.667"></path><circle class="churchBellTowerDetails" cx="21.917" cy="125.542" r="4.417"></circle><polygon class="churchCornice" points="47,267.292 46.833,251.375 83.5,217.519 121.5,251.458 121.5,267.625 83.5,235.355"></polygon><path class="churchSpire" d="M2.333,342.458l-0.5-0.083c0,0-0.167-19.583,1-19.25c1.167,0.333,2.833,15.667,2.833,15.667"></path><path class="churchSpire" d="M160.833,338.125l4.667,4.333c0,0-0.333-19.833-1.833-20.333C162.101,321.603,160.833,338.125,160.833,338.125"></path><path class="churchSmallWindowsColumns" d="M29.5,390.625h-13v-17c0,0,2.667-3.167,6.667-3.167s6.333,3.167,6.333,3.167V390.625z"></path><path class="churchSmallWindows" d="M22.5,390.625h-5v-13.347c0,0,0.762-2.486,2.576-2.486s2.424,2.486,2.424,2.486V390.625z"></path><path class="churchSmallWindows" d="M28.5,390.625h-5v-13.347c0,0,0.762-2.486,2.576-2.486s2.424,2.486,2.424,2.486V390.625z"></path><path class="churchSmallWindowsColumns" d="M153.5,390.625h-13v-17c0,0,2.667-3.167,6.667-3.167c4,0,6.333,3.167,6.333,3.167V390.625z"></path><path class="churchSmallWindows" d="M146.5,390.625h-5v-13.347c0,0,0.762-2.486,2.576-2.486s2.424,2.486,2.424,2.486V390.625z"></path><path class="churchSmallWindows" d="M152.5,390.625h-5v-13.347c0,0,0.762-2.486,2.576-2.486s2.424,2.486,2.424,2.486V390.625z"></path><path class="churchBigWindowsColumns" d="M72.5,294.625h-15v-29.399c0,0,3.077-5.476,7.692-5.476s7.308,5.476,7.308,5.476V294.625z"></path><path class="churchBigWindows" d="M64.5,294.625h-6v-24.537c0,0,0.834-4.571,3.094-4.571c2.26,0,2.906,4.571,2.906,4.571V294.625z"></path><path class="churchBigWindows" d="M71.5,294.625h-6v-24.537c0,0,0.834-4.571,3.094-4.571s2.906,4.571,2.906,4.571V294.625z"></path><path class="churchBigWindowsColumns" d="M91.5,294.625h-15v-29.399c0,0,3.077-5.476,7.692-5.476s7.308,5.476,7.308,5.476V294.625z"></path><path class="churchBigWindows" d="M83.5,294.625h-6v-24.537c0,0,0.834-4.571,3.094-4.571s2.906,4.571,2.906,4.571V294.625z"></path><path class="churchBigWindows" d="M90.5,294.625h-6v-24.537c0,0,0.834-4.571,3.094-4.571s2.906,4.571,2.906,4.571V294.625z"></path><path class="churchBigWindowsColumns" d="M110.5,294.625h-15v-29.399c0,0,3.077-5.476,7.692-5.476s7.308,5.476,7.308,5.476V294.625z"></path><path class="churchBigWindows" d="M102.5,294.625h-6v-24.537c0,0,0.834-4.571,3.094-4.571s2.906,4.571,2.906,4.571V294.625z"></path><path class="churchBigWindows" d="M109.5,294.625h-6v-24.537c0,0,0.834-4.571,3.094-4.571s2.906,4.571,2.906,4.571V294.625z"></path><polygon class="churchFrontLateral" points="102.5,409.625 64.5,409.625 64.5,334.293 83.5,323.375 102.5,334.293"></polygon><path class="churchSmallWindowsColumns" d="M94.5,359.625h-21v-19.95c0,0,4.077-3.716,10.779-3.716s10.221,3.716,10.221,3.716V359.625z"></path><path class="churchSmallWindows" d="M80.5,359.625h-5v-13.347c0,0,0.762-2.486,2.576-2.486c1.814,0,2.424,2.486,2.424,2.486V359.625z"></path><path class="churchSmallWindows" d="M86.5,359.625h-5v-13.347c0,0,0.762-2.486,2.576-2.486c1.814,0,2.424,2.486,2.424,2.486V359.625z"></path><path class="churchDoors" d="M94.5,409.625h-21v-36.459c0,0,4.346-6.791,10.768-6.791c6.422,0,10.232,6.791,10.232,6.791V409.625z"></path><path class="churchSmallWindows" d="M92.428,359.647l-5-0.046l0.122-13.347c0,0,0.785-2.479,2.598-2.463c1.813,0.017,2.402,2.508,2.402,2.508 L92.428,359.647z"></path></svg></scene-element></scene-wrapper>'),e.put("app/pages/scene/mountains/mountains.html",'<scene-wrapper scene="vm.scene" id="mountains-scene"><scene-parallax start="vm.parallaxStart" end="vm.parallaxEnd" vertical="vm.layer3Parallax"><scene-parallax start="vm.sunriseStart" end="vm.parallaxEnd" vertical="vm.sunriseParallax"><scene-element top="4" width="16"><svg viewbox="0 0 65 64"><g class="sun"><circle cx="32" cy="32" r="32"></circle></g></svg></scene-element></scene-parallax><scene-element top="vm.mountainsTop3" width="100"><svg viewbox="0 0 625.333 275"><g class="mountains3"><polygon points="37.333,74 59.333,61.333 104.667,78.667 135.333,60.667 162,64.667 178,55.333 218,67.333 285.333,4 324,37.333 339.333,34 374,70.667 404,84.667 451.333,70 492,86 514,85.333 558,110 625.333,108.667 625.333,276 -0.667,276 -2.667,79.333"></polygon></g></svg></scene-element></scene-parallax><scene-parallax start="vm.parallaxStart" end="vm.parallaxEnd" vertical="vm.layer2Parallax"><scene-element top="vm.mountainsTop2" width="100"><svg viewbox="0 0 625.333 221.667"><g class="mountains2"><path d="M-2,3l89.333,34l26-4.667l47.333,25.333l32.667,2.667L214,53l52,19.333c0,0,50.667-1.333,56.667-1.333 s114,13.333,114,13.333l60.667-16l24.667,6l88-48.667l16.667,12V223h-626L-2,3z"></path></g></svg></scene-element></scene-parallax><scene-parallax start="vm.parallaxStart" end="vm.parallaxEnd" vertical="vm.layer1Parallax"><scene-element top="vm.mountainsTop1" width="100"><svg viewbox="0 0 627.333 172"><g class="mountains1"><polygon points="0,22 35.333,0 84.667,26 94,19.333 132.667,40.667 144.667,31.333 181.333,60 187.333,56.667 244.667,82.667 325.333,88.667 627.333,90 627.333,172 -2,172"></polygon></g></svg></scene-element><scene-parallax start="vm.parallaxStart" end="vm.parallaxEnd" horizontal="vm.cloud0Parallax"><scene-element top="5" horizontal="-40" width="27"><svg viewbox="0 70 300 111"><g class="clouds"><path d="M9.8,142.6c-4.2-8.7-4.3-19.2-0.3-28s12-15.6,21.3-18.2c2-9,8.2-17,16.5-21 c5.3-2.6,32.3-9.1,49.3,30.2c1.6,3.7,8.7,15,11.7,17.7c1.7,1.5,23.6,10.7,25.7,11.7c11.2,5.2,26.7,0.7,36,12.3 c18,4.7,35.2-10.6,49.4,0c1.3,1,2.7,2.1,4.2,2.7c2.3,0.9,4.8,0.6,7.2,0.5c15.4-1,31,2.7,44.3,10.4c2.6,1.5,5.2,3.2,8.2,4 c2.8,0.8,5.8,0.7,8.6,1.4c3.6,0.9,7.2,3.5,6.4,7.8c-0.3,1.3-1,2.6-2,3.5c-2.8,2.6-6.6,3-10.2,3c-16.1,0.2-32.6,0.6-48.7,0.1 c-16.6-0.5-30.4,0.1-47-0.1c-11.2-0.1-30.4,0.3-41.7,0c-38.6-1-65.3-1.6-99-3c-8.3-0.3-15.9-0.1-24.1-1.5 c-8.2-1.4-16.3-5.6-20.4-12.7c-4.1-7.2-2.9-17.6,4-22.2"></path></g></svg></scene-element><scene-parallax start="vm.parallaxStart" end="vm.parallaxEnd" horizontal="vm.cloud1Parallax"><scene-element top="20" horizontal="30" width="27"><svg viewbox="854 50 375 100"><g class="clouds"><path d="M854.5,124.3c0.5-9.5,9.6-16.7,18.9-18.8s18.9-0.3,28.3,1.5c-1.2-11.6,10.6-20.7,22.1-22.7 s23.3,0.5,34.8-0.9c16-1.9,27.2-31.8,43.4-31.3c2.5,0.1,14.3,5.4,24.3,10c9.1,4.2,19.5,4.5,28.8,0.8c8-3.2,17.3-6.3,21.5-5.4 c16.4,3.7,22.8,19.4,39.2,23.1c4.5,1,9.4,2.3,12.2,5.9c2,2.6,2,6.7,0.3,9.2c-0.6,0.8-0.1,1.9,0.9,2c14.7,0.4,28.8,6.5,42.3,12.6 c14.6,6.5,29.2,13.1,43.8,19.6c3.7,1.6,7.8,3.7,8.1,8.2c0.2,2.7-1.2,5.3-3.3,7c-4.4,3.4-10,3-15.2,2.6 c-63.2-4.9-126.9-4.2-190,1.9c-6.9,0.7-18.2,0.7-25.1,0.1c-16.9-1.4-46.8-1.5-61.1-1.8C900.6,147.3,853.3,148.8,854.5,124.3z"></path></g></svg></scene-element></scene-parallax></scene-parallax></scene-parallax><scene-parallax><scene-element top="vm.mountainsTop0" width="100"><svg viewbox="2 0 623.333 122.333"><g class="mountains0"><path d="M0,46.333c0,0,81.333-12.667,90.667-12C100,35,172.667,59,172.667,59l34-14l46,20L360,25l12.667,10l6-3.333 L391.333,39L424,23.667l22.667,16.667c0,0,52-20.667,58-20.667S522,27,522,27s68.667-26.667,74-26s5.333,0.667,5.333,0.667 L626,12.333v110H-0.667L0,46.333z"></path></g></svg><div class="mountains-background">&nbsp;</div></scene-element><scene-element top="37" width="20"></scene-element></scene-parallax></scene-wrapper>'),e.put("app/pages/scene/road/road.html",'<scene-wrapper scene="vm.scene" id="road-scene" wrapped="vm.wrapped"><scene-element top="4" width="50" horizontal="-35"><svg viewbox="0 0 538 120"><polygon class="roadBackground" points="439.07,113 3.065,113 99.795,36 535.8,36"></polygon><path class="roadPebble" d="M362,52c0,0.552-0.448,1-1,1h-2c-0.552,0-1-0.448-1-1l0,0c0-0.552,0.448-1,1-1h2 C361.552,51,362,51.448,362,52L362,52z"></path><path class="roadPebble" d="M364,50c0,0.552-0.448,1-1,1h-1c-0.552,0-1-0.448-1-1l0,0c0-0.552,0.448-1,1-1h1 C363.552,49,364,49.448,364,50L364,50z"></path><path class="roadPebble" d="M366,53c0,0.552-0.448,1-1,1h-2c-0.552,0-1-0.448-1-1l0,0c0-0.552,0.448-1,1-1h2 C365.552,52,366,52.448,366,53L366,53z"></path><path class="roadPebble" d="M58,94c0,0.552-0.448,1-1,1h-2c-0.552,0-1-0.448-1-1l0,0c0-0.552,0.448-1,1-1h2C57.552,93,58,93.448,58,94 L58,94z"></path><path class="roadGrass" d="M109.333,35.667l-8-16.667l13.333,6.667L115.333,15l7.333,6.667c0,0,7.333-7.333,9.333-8 c2-0.667,0,4.667,0,8s4.667,12,4.667,12L109.333,35.667z"></path><polygon class="roadGrass" points="210,36 210,29 214,34.333 216.667,29 219.333,34.333 222.667,30.333 227.333,29 231.333,36.333"></polygon><path class="roadGrass" d="M311.75,36.5L309,13.333l6.667,9.333c0,0,4.667-11.333,6.667-12.667S325,36.667,325,36.667L311.75,36.5z"></path><path class="roadGrass" d="M434.667,37L424,19.5l10.667,8.583c0,0,0.667-12.042,2.667-14.042S446,24,446,24s8.333-7.5,13-9.5L456.5,26 c-2,5,1.5,11,1.5,11H434.667z"></path><path class="roadGrass" d="M415.667,111.667L412.333,95l10,10c0,0,11.333-10,16-11.333c4.667-1.333-4,12-4,16.667 C434.333,115,415.667,111.667,415.667,111.667z"></path><polygon class="roadGrass" points="320,110.333 316.667,101 324.667,107 328.667,100.333 330,105.667 334.667,99.667 337.333,105.667 341.333,99.667 345.333,111"></polygon><polygon class="roadGrass" points="222.333,110.333 217,95 227,102.333 235.667,91 237.667,101.667 253,91 247,109"></polygon><path class="roadGrass" d="M87,117.333l-8.667-8l10,3.333L83,99.333l-5.333-6l20.667,7.333l8-10.667l3.333,20 c0,0,15.333-5.333,12.667-4c-2.667,1.333-3.333,7.333-3.333,7.333L87,117.333z"></path><path class="roadPebble" d="M464,80c0,0.552-0.448,1-1,1h-2c-0.552,0-1-0.448-1-1l0,0c0-0.552,0.448-1,1-1h2 C463.552,79,464,79.448,464,80L464,80z"></path><path class="roadPebble" d="M467,78c0,0.552-0.448,1-1,1h-1c-0.552,0-1-0.448-1-1l0,0c0-0.552,0.448-1,1-1h1 C466.552,77,467,77.448,467,78L467,78z"></path><path class="roadPebble" d="M469,81c0,0.552-0.448,1-1,1h-2c-0.552,0-1-0.448-1-1l0,0c0-0.552,0.448-1,1-1h2 C468.552,80,469,80.448,469,81L469,81z"></path><path class="roadPebble" d="M196,54c0,0.552-0.448,1-1,1h-2c-0.552,0-1-0.448-1-1l0,0c0-0.552,0.448-1,1-1h2 C195.552,53,196,53.448,196,54L196,54z"></path><path class="roadPebble" d="M195,51c0,0.552-0.448,1-1,1h-1c-0.552,0-1-0.448-1-1l0,0c0-0.552,0.448-1,1-1h1 C194.552,50,195,50.448,195,51L195,51z"></path><path class="roadPebble" d="M280,97c0,0.552-0.448,1-1,1h-2c-0.552,0-1-0.448-1-1l0,0c0-0.552,0.448-1,1-1h2 C279.552,96,280,96.448,280,97L280,97z"></path><path class="roadPebble" d="M283.998,94.081c-0.022,0.552-0.488,0.981-1.039,0.959l-1.998-0.081c-0.552-0.022-0.981-0.488-0.959-1.039 l0,0c0.022-0.552,0.488-0.981,1.039-0.959l1.998,0.081C283.591,93.063,284.021,93.529,283.998,94.081L283.998,94.081z"></path><polygon class="roadStripe" points="129.698,73 63.732,73 78.367,62 144.333,62"></polygon><polygon class="roadStripe" points="291.698,73 225.732,73 240.367,62 306.333,62"></polygon><polygon class="roadStripe" points="442.698,73 376.732,73 391.367,62 457.333,62"></polygon></svg></scene-element><scene-parallax start="vm.vehiclesParallaxStart" end="vm.vehiclesParallaxEnd" horizontal="vm.scooterParallax"><scene-element top="vm.vehiclesParallaxTop" width="18" horizontal="vm.scooterHorizontal"><svg viewbox="0 0 640 480"><path class="scooterFront" d="M491.535,175.864c0,0,16.215,14.636,26.965,27.386S529.25,216,529.25,216l0,0l18,24L532,248.944L480,207 l-20.333-17l9.833-18.083L491.535,175.864z"></path><path class="scooterTopFrontMiddle" d="M512.219,171.25c0,0-8.054,0.376-24.219,5.75c-22.315,7.419-27.258,13.213-27.258,13.213l0.293-44.717 L464.5,133l28.75,12.75L512.219,171.25z"></path><path class="scooterInner" d="M235.5,307l64.167-23.666l47.944,0.831c0,0-27.61,48.835-17.277,51.835s75,14.666,77.333,13 s51-112.667,51-112.667L457,142.667c0,0,16.334,9,16.334,21.333s-13.667,26.333-13.667,26s30.666,8.208,43.333,20.771 s30,35.784,29,38.174s-33.36,29.694-53.666,52.723c-19.019,21.568-45.334,77.999-47.667,80.666s-75.666,2.001-81.333,1.334 S275,376.333,275,376.333"></path><path class="scooterBackBottom" d="M95,218v4c0,0,4.5,1,9,1s131.5,84,131.5,84l16.5,27.5c0,0,11-19.5,25-29.5s30-14,30-14l-6.779-6.44 L120.167,217.5L95,218z"></path><path class="scooterTopFrontTop" d="M456,143v-4c0,0,2.5-3,8-7.75s13.5-9.25,13.5-9.25s14.375,10.5,21.625,19.25s19.813,28.5,18.063,30 s-4.969,0-4.969,0s-10.977-15.25-22.727-22s-15.996-9.25-21.496-9.5s-6.961,5.746-6.961,5.746L456,143z"></path><path class="scooterWheelTires" d="M611,377c0,35.347-28.653,64-64,64l0,0c-35.347,0-64-28.653-64-64l0,0c0-35.347,28.653-64,64-64l0,0 C582.347,313,611,341.653,611,377L611,377z"></path><path class="scooterWheelTires" d="M220,377c0,35.347-28.653,64-64,64l0,0c-35.347,0-64-28.653-64-64l0,0c0-35.347,28.653-64,64-64l0,0 C191.347,313,220,341.653,220,377L220,377z"></path><path class="scooterTrunk" d="M44.426,151.754c2.968-17.806,3.247-52.242,50.82-45.901c23.928,2.744,56.557,9.016,54.098,54.098 c0,0,3.278,32.788-8.197,38.525s-20.878,8.196-44.045,5.737S35.41,205.852,44.426,151.754z"></path><path class="scooterSaddle" d="M238.771,225.524c88.524,17.213,117.992,54.099,117.992,54.099s-24.611,22.951-110.677-11.476 c0,0-53.487-17.817-72.059-28.147c-14.119-7.853-47.193-21-53.86-22.5c-5.685,0.268-14.97,0.65-17.544-0.172 c-2.27-3.109,0-6.557,0-6.557L238.771,225.524z"></path><path class="scooterWheelRim" d="M583.5,377.557c0,20.403-16.54,36.943-36.943,36.943h-0.113 c-20.403,0-36.943-16.54-36.943-36.943v-0.113c0-20.403,16.54-36.943,36.943-36.943h0.113c20.403,0,36.943,16.54,36.943,36.943 V377.557z"></path><path class="scooterWheelHub" d="M556,378c0,5.522-4.478,10-10,10l0,0c-5.522,0-10-4.478-10-10l0,0c0-5.522,4.478-10,10-10l0,0 C551.522,368,556,372.478,556,378L556,378z"></path><path class="scooterWheelRim" d="M193.5,377.557c0,20.403-16.54,36.943-36.943,36.943h-0.113 c-20.403,0-36.943-16.54-36.943-36.943v-0.113c0-20.403,16.54-36.943,36.943-36.943h0.113c20.403,0,36.943,16.54,36.943,36.943 V377.557z"></path><path class="scooterWheelHub" d="M166,377c0,5.522-4.478,10-10,10l0,0c-5.522,0-10-4.478-10-10l0,0c0-5.522,4.478-10,10-10l0,0 C161.522,367,166,371.478,166,377L166,377z"></path><path class="scooterMuffler" d="M264.333,359c0,0-6,4-22.667,6s-21.333,0-21.333,0s0.667-10.666-4-13.333s5.333-1.334-10.667-6.667 s-95.333-28.667-95.333-28.667s-9.138-2-13.902,10.667s5.183,24,5.183,24L209,388c0,0,4.667-3,6-7s6.333-0.667,20.5-3 s32.167-10,32.167-10L264.333,359z"></path><path class="scooterHandlebar" d="M448.948,163.394c4.006-4.616,4.547-10.706,1.21-13.601l0,0c-3.337-2.895-9.289-1.501-13.295,3.115l-0.028,0.034 c-4.006,4.616-4.547,10.706-1.21,13.601l0,0c3.337,2.895,9.289,1.5,13.295-3.115L448.948,163.394z"></path><path class="scooterManLegs" d="M262.333,193c0,0-8.333,9.333-10,18c-1.667,8.667-4.333,18.667,2,24s20.667,12,26,13.667 c5.333,1.667,43.667,4.667,43.667,4.667l41,1c0,0-39.333,71-36,77c2.785,5.013,51.333,15.333,51.333,15.333s7,0.333,9.667-3 c2.667-3.333,1.667-7-2-10.333c-3.667-3.333-25-14-25-14s-2-2,0-6S401,250,401,250s9.542-11.805,6.333-14 c-6.333-4.333-111-28.667-111-28.667l6,0.667c0,0,3-6,0.667-7.333c-2.333-1.333-12.667-6-20.333-7 C275.057,192.674,262.333,193,262.333,193z"></path><path class="scooterManBody" d="M262,195.333L293.667,105c0,0,2.333-5.333,10.667-7.667c8.333-2.333,9.333-3,18.333,0.667 s45.667,44.333,49.667,47s10,5,14,5.333c4,0.333,16,1,22.333,2.667c6.333,1.667,9.667,2.333,14.667,4S437,159.667,442,164.333 c5,4.667,6.333,9,3,13.333c-3.333,4.333-7,9-10,7.667c-3-1.333-7.667-11.333-12.333-12.667c-4.667-1.333-36.333,1.333-46.333-1.333 c-10-2.667-44-27-44-27l-28.667,58L262,195.333z"></path><path class="scooterManHelmet" d="M307.667,84c-2.667-4.333,1-25,4-35.333c1.325-4.564,5.893-14.773,11.667-20.667 c6.185-6.313,13.3-8.149,19.333-8.667C354.333,18.333,367,19,375,23.667s14,10.667,17,17.667s7,56-15.333,64.667 c0,0-1.333,1.667-13.333-0.667c-12-2.333-43.821-11.248-50.667-16C309.125,86.875,310.333,88.333,307.667,84z"></path><path class="scooterManVisor" d="M388.667,95c0,0,3.774-6.875,5.333-12.333c2-7,0.667-14,0.667-14c-0.333,1-9,0.333-13.333-1.667 c-4.333-2-25.333-17-28-17c-2.667,0-8,0-10.667,3.333c-2.667,3.333-1.333,8.333,0.333,13s3.333,7.333,6.333,9.667 S361,85,366,86.667C371,88.333,377.333,93.333,388.667,95"></path><path class="scooterManScarf" d="M297.56,82.608c0,0-4.56-17.608-12.893-24.942c-11.895-10.468-31.631,3.55-36.333,6.333 c-9.825,5.815-12.091,11.22-31.333,9.333c-10.479-1.027-19.735-10.224-22.663-15.822c-2.928-5.599-1.56-14.344-8.004-15.511 c-6.444-1.167-38,8-38,8s11.55,3.552,5.182,12.395c-4.516,6.271-6.944,15.155-5.849,15.271 c2.059,0.219,11.243-11.191,19.288-14.262c8.045-3.071,15.237,4.347,15.237,4.347s2.739,2.737,5.786,7.345 C191,79.667,193.837,86.5,202,90.333c8.163,3.834,17.078-0.388,24.493-2.321c7.415-1.933,17.93-7.769,27.174-11.012 s15.122-4.409,21.147-1.942C282,78,297.625,93.269,297.625,93.269"></path></svg></scene-element></scene-parallax><scene-parallax start="vm.vehiclesParallaxStart" end="vm.vehiclesParallaxEnd" horizontal="vm.carParallax"><scene-element top="vm.vehiclesParallaxTop" width="18" horizontal="vm.carHorizontal"><svg viewbox="90 100 410 257"><path fill="#DFF0F7" d="M250.189,214.855c9.948-7.437,38.038-52.06,34.526-58.353c-6.222-11.151-61.445,61.786-61.445,61.786"></path><lineargradient id="SVGID_1_" gradientunits="userSpaceOnUse" x1="288.7907" y1="154.9389" x2="300.0179" y2="315.4947"><stop offset="0.6032" style="stop-color:#FF0000"></stop><stop offset="0.6089" style="stop-color:#E00000"></stop><stop offset="0.781" style="stop-color:#CE0000"></stop><stop offset="0.7926" style="stop-color:#9E0000"></stop></lineargradient><path fill="url(#SVGID_1_)" d="M100.237,259.231c0,0,71.386-29.083,83.019-31.727s68.742-16.392,65.569-11.633 c-3.173,4.759,35.957-55.522,35.957-55.522l-5.288-4.759c0,0,32.405-2.045,58.695,0c18.028,1.402,34.726,6.506,47.062,12.162 c12.336,5.656,14.152,7.688,22.209,13.22c8.057,5.531,29.083,24.814,36.486,31.198c5.267,4.542,27.497,4.23,33.313,3.701 c5.817-0.529,10.576-4.23,13.748-4.23c1.586,0,3.106,4.002,4.263,8.317c1.156,4.315,1.95,8.941,2.083,10.191 c0.28,2.629,1.586,22.738-0.529,26.439c-2.115,3.701-10.576,15.864-10.576,15.864s-12.595,17.249-13.748,19.036 c-0.641,0.994-11.633,5.288-11.633,5.288s-8.461-48.119-35.957-39.13c-27.497,8.989-23.795,40.188-25.91,41.774 s-56.58,14.277-75.087,14.277s-97.825,6.345-100.469,3.702s-5.817-44.947-31.198-45.475s-37.544,28.554-38.072,31.198 c-0.529,2.644-2.115,15.864-2.115,15.864s-44.947,1.058-49.177-8.461c-4.23-9.518-8.461-27.497-8.461-27.497L100.237,259.231z"></path><path fill="#DFF0F7" d="M350.5,175.5L353,213c0,0,54.333,0.667,57.333,0s1.667-1-4-9.333c-5.667-8.333-10-13.68-17.333-18.173 s-10-5.16-23.333-7.493"></path><path fill="#DFF0F7" d="M403.333,230.333"></path><path d="M403.333,230.333l14.333,0.333l1.667,5c0,0-3.667,3.667-9,3.333c-5.333-0.333-6-1.667-6-1.667L403.333,230.333z"></path><path d="M312.928,237.559c0,0,2.225,0.636,4.212,0.715c1.987,0.079,4.689-0.318,6.915-0.238c2.225,0.079,4.61,0.556,4.61,0.556 s0.556,2.066,0.556,3.497s-0.318,3.338-0.318,3.338s-1.033-0.238-2.941-0.397c-1.27-0.106-3.974,0.318-6.517,0.238 c-2.543-0.079-6.199-1.51-6.199-1.51L312.928,237.559z"></path><line fill="#DFF0F7" x1="336.135" y1="245.666" x2="325.167" y2="244.712"></line><path fill="#DFF0F7" d="M99.65,263.33c0,0,8.544,2.314,11.304,2.492s13.885-0.089,14.063-0.801s-2.225,10.68-2.759,11.126 c-0.534,0.445-8.455,2.225-12.372,2.225c-3.916,0-13.437-0.996-13.941-1.558l3.261-13.483"></path><path d="M98.65,257.644"></path><path d="M177.439,294.13c0,0-11.633,5.817-12.691,16.921c-1.058,11.104-4.23,25.382,3.173,31.727 c7.403,6.345,28.026,11.633,35.429,0.529c7.403-11.104,16.392-36.486,5.288-43.889S181.141,289.371,177.439,294.13z"></path><path fill="#FFFFFF" d="M177.968,317.397c0.529,5.817,4.759,14.806,9.518,13.22c4.759-1.586,8.989-3.173,10.576-7.932 c0,0,5.288-11.633-4.23-15.335S177.439,311.58,177.968,317.397z"></path><path d="M396.885,353.883"></path><path fill="#DFF0F7" d="M268.5,213H337l-3.5-31c0-18.2-41.5-16.5-41.5-16.5l-17,33"></path><path d="M294.301,154.531c0,0,23.266-33.313,32.785-38.072s33.842-11.633,31.727-11.633s-29.612,13.22-31.198,13.22"></path><path d="M264.333,220.333c0,0,13.182,8,15.924,5.667s12.289-25-4.258-25c-4.667,0-6.667,0.667-9,3.667 S260.557,218.209,264.333,220.333z"></path><path fill="#6EB1D3" d="M282.582,183.129"></path><circle fill="#050505" cx="188.133" cy="320.985" r="29.414"></circle><ellipse fill="#050505" cx="431.452" cy="304.598" rx="27.845" ry="28.237"></ellipse><ellipse fill="#FFFFFF" cx="188.526" cy="322.161" rx="12.202" ry="11.093"></ellipse><ellipse fill="#FFFFFF" cx="431.452" cy="304.598" rx="12.202" ry="11.093"></ellipse></svg></scene-element></scene-parallax><scene-element top="0" width="50"><svg viewbox="0 0 389 346"><path class="roadTunnelHole" d="M132.375,217.718l5.5,117.615c0,0,22-43.561,54.312-43.561s72.187,29.404,70.812,35.938 c-1.375,6.534-7.562-160.087-7.562-160.087L131,160L132.375,217.718z"></path><polygon class="treeTrunk" points="150.5,163.417 154,215 191,215 188,160.375"></polygon><path class="treeFoliage4" d="M150,56c0,0,5.333-5.333,13.333-17.333S178.667,6,178.667,6s6,18.667,10.667,25.333 C194,38,208,49.333,208,49.333s1.333,2-4,6s-12,5.333-12,5.333s4.667,10.667,11.333,16c6.667,5.333,8.667,8,14,12 c5.333,4,16.667,10,16.667,10l-19.333,8c0,0-4.667,2,0,10c4.667,8,23.333,20.667,23.333,20.667l0.667,41.333L216,177.333 c0,0-26,3.333-32,1.333s-12-1.333-20.667,0.667c-8.667,2-56-2.667-56-2.667l-6-31.333l7.333-5.333l6,2.667c0,0,2,2,8.667-5.333 c6.667-7.333,6-18,6-18l-8.667-4.667l20.667-25.333l-12.667-6.667l27.333-22L150,56z"></path><path class="treeFoliage2" d="M292,77l-10.5-3.5c0,0,15-17,20-24c5.812-8.137,16.833-27.167,16.833-27.167S323,43,327,55 s14,27.333,14,27.333S327.667,83,325.667,81s0.667,8,6,16.667c5.333,8.667,10.667,15.333,18,19.333c7.333,4,12,8,12,8 s-0.667,4.667-10,6c-9.333,1.333-14,0-14,0s8.667,8.667,14,14c5.333,5.333,12,13.333,20,17.333s8,4,8,4s-2,10-9.333,14.667 C363,185.667,347,195,347,195s7.333,3.333,16,4.667c8.667,1.333,21.333,2,21.333,2s-0.667,8.667-11.333,18.667 s-30.667,18-30.667,18l-10.667,2l-31.333,2L271,87.5L292,77z"></path><path class="treeTrunk" d="M332.667,226L336,293.667c0,0-2.667,6.5-12.667,7.167c-10,0.667-14.667-1.083-14.667-1.083L302,226H332.667 z"></path><path class="treeTrunk" d="M84,258.84l7.333,79.678c0,0,6.667,5.543,21.333,3.464c14.667-2.079,21.333-8.314,21.333-8.314 l-10.667-83.835L84,258.84z"></path><path class="treeTrunk" d="M253.5,244.667l6.737,90.667c0,0,13.474,8.667,24.254,4.667c10.779-4,16.843-11.333,16.843-11.333 L283.817,240L253.5,244.667z"></path><path class="treeFoliage3" d="M202.833,104c0,0,13.25,2.667,21.917-6.667S252.708,26,252.708,26s6.646,16.667,12.646,23.333 s20.656,26.25,20.656,26.25S283.333,80.5,276,80.5s-7,0-7,0s5,9.75,12.333,18.417c7.333,8.667,14,19.208,24,21.875 c10,2.667,14.667,3.938,14.667,3.938s-2.667,7.302-8.667,14.635c-6,7.333-18,17.984-21.333,15.984s6,12.659,16,14.659 s15.333,4.663,22.667,5.996c7.333,1.333,16.667,1.998,16.667,1.998s-6.667,15.999-12,22.666c-5.333,6.667-10,8.666-10,8.666 s8.667,13.333,13.333,16c4.667,2.667,10,6,10,6s-8,11.333-21.333,18c-13.333,6.667-24.667,12-36,8.667c-11.333-3.333-18-10-18-10 s-12.667,11.333-28.667,11.333s-34-0.667-38.667-4C199.333,252,199.333,252,199.333,252l24-29.333c0,0-17.333,4-30.667,0 C179.333,218.667,166,206,166,206s11.333-0.667,22-6.667s31.333-28,31.333-28s-7.833-1.833-12-4.667 C202.591,163.442,198,154,198,154s4.667,1.333,15.333-7.333C224,138,234,127.333,235.333,122c1.333-5.333,2-13.333,2-13.333 s-8,7.333-16,6.667c-8-0.667-10.667-1.333-13.333-4C205.333,108.667,202.833,104,202.833,104z"></path><path class="treeFoliage1" d="M53.333,130c0,0,16.667-24.667,20.667-34.667s15.333-53.333,14-56C86.667,36.667,101.333,72,106,80 s28,41.333,28,41.333s-20,3.333-24,1.333s8,16.667,14.667,25.333S138,162,148,168s20.667,10.667,20.667,10.667 s-0.667,6-7.333,8.667c-6.667,2.667-16,3.333-16,3.333s10,14.667,16.667,20C168.667,216,178,220,184,222s12.667,4,12.667,4 s-7.333,9.333-16,12.667c-8.667,3.333-12,7.333-20,5.333s-14-4.667-14-4.667s10,20.667,19.333,25.333 c9.333,4.667,17.333,2.667,17.333,2.667s-7.333,10-20.667,10c-13.333,0-29.333-3.333-36.667-9.333c-7.333-6-20-12.667-20-12.667 S91.333,270,78.667,274s-38,2-38,2l16-15.333c0,0-13.333,3.333-23.333,0C23.333,257.333,4,242,4,242s12.667-7.333,23.333-15.333 S52.667,202,52.667,202s-21.333-5.333-20-7.333c1.333-2,16.258-18.506,18.667-22.667c7.333-12.667,22-41.333,22-41.333 S48,136.667,53.333,130z"></path></svg></scene-element></scene-wrapper>'),e.put("app/pages/scene/sky/sky.html",'<scene-wrapper scene="vm.scene" id="sky-scene"><scene-element top="16" width="15"><svg viewbox="0 0 65 64"><g class="moon"><circle cx="32" cy="32" r="32"></circle><g class="moon-craters"><circle cx="39" cy="12" r="7"></circle><circle cx="21" cy="45" r="12"></circle><circle cx="14" cy="25" r="9"></circle></g></g></svg></scene-element></scene-wrapper>'),e.put("app/pages/scene/trees/trees.html",'<scene-wrapper scene="vm.scene" id="trees-scene"><scene-element top="30" width="100"><div class="grass-background"></div></scene-element><scene-element top="12" width="100"><svg viewbox="0 0 617 168"><path class="treeFoliage4" d="M-0.5,112.5L26,80.75c0,0-4-2.083-7-3.75c-2.185-1.214-6.667-4-6.667-4S28.515,59.147,32,54.667 c2.333-3,21-28.651,21-28.651s8.5,15.492,12.5,21.492s24,26.496,24,26.496L76.333,73c0,0-0.333,3.501,4.167,10.501s17,15.5,17,15.5 s17.5-12,21-17s11.833-18,11.833-18L116,64.5c0,0,11-8,18.5-19.5s16-33,16-33s5.667,24,9.167,32S172.5,63,172.5,63 S161,66.5,159,65.5S169,79,175.5,82s18.5,6.5,18.5,6.5s10-8,13.5-13.5s9.5-18,9.5-18s6.5,14.5,13,22s29.5,18,29.5,18 s7.5-4.5,13-12.5S287,57,287,57l-8-1.5c0,0,6.333-7.333,10.667-17.167C293.628,29.344,302.5,6,302.5,6s2.5,10,8,19.5S330,55,330,55 l-9,0.5c0,0,0,5,6.5,12.5S344,86,344,86l4,1.5c0,0,3-3.5,5.5-7s4-9,4-9l-6.167,0.5c0,0-2.333,2,5.167-8.5S369,40,369,40s0,4,5,11.5 s14.5,20,14.5,20l-8.833-0.5c0,0,1.833,6.5,6.333,9.5s13,5,13,5s4-4,6-8.5s2.5-10,2.5-10s-0.5,2.5,3,7s11,11,11,11s0.5,0.5,6-8 s8-18,8-18l-9.5,3c0,0,3.5-1.5,10.5-13.5s11-28.5,11-28.5s1.5,11,6.5,20s17.5,22.5,17.5,22.5l-11.5,1c0,0,3.5,7,8.5,11.5 S484,89.5,484,89.5s5.5-3.5,10.5-14s15-35.5,15-35.5s1.5,12,6,21.5s18,26,18,26s12-11,15-19s3-13,3-13l-8-0.5 c0,0,6.333-6.667,12.833-16.667S573.5,11.5,573.5,11.5s4,7,12.5,19s18.5,23,18.5,23l-11,3.5c0,0,0.5,8.5,7,14s15,7,15,7l2.5,90 l-619-1L-0.5,112.5z"></path></svg></scene-element><scene-element top="17" width="110"><svg viewbox="0 0 640 267"><path class="treeTrunk" d="M188.384,237.82c0,0,2.884,2.76,11.537,1.656c8.653-1.104,14.833-3.864,14.833-3.864L212.694,176 l-27.194,2.76"></path><path class="treeFoliage1" d="M165.5,108.984c0,0,22.045-22.045,23.882-23.882c1.837-1.837-13.778-5.052-13.778-5.052 s16.075-13.319,20.208-20.208S206.835,35.5,206.835,35.5s3.215,11.482,8.267,19.749s24.342,24.342,24.342,24.342 s-4.593,2.756-10.563,4.133c-5.971,1.378-9.645,0.919-9.645,0.919s5.971,13.778,12.4,20.667 c6.43,6.889,31.231,31.231,31.231,31.231s1.837-2.296-5.971,1.837c-7.808,4.133-12.86,5.511-12.86,5.511s0,5.511,4.593,11.023 c4.593,5.511,18.371,15.156,18.371,15.156s-20.208,13.319-32.149,16.075s-20.208,3.674-25.26,1.837 c-5.052-1.837-8.726-4.133-8.726-4.133s-4.133,5.971-16.075,5.511s-18.371-2.756-18.371-2.756L165.5,108.984z"></path><path class="treeTrunk" d="M282.5,190.5l2.613,53.5c0,0,2.613,2.5,10.451,1.5c7.838-1,13.437-3.5,13.437-3.5l-1.866-54L282.5,190.5z"></path><path class="treeTrunk" d="M113.5,180.806l3.056,57.078c0,0,3.056,2.667,12.225,1.6s15.718-3.734,15.718-3.734l-2.183-57.612 L113.5,180.806z"></path><path class="treeTrunk" d="M359.155,220.25c-2.651,4-20.327,4.875-23.862,0.375c-3.535-4.5,0-55.625,0-55.625h23.862 C359.155,165,361.806,216.25,359.155,220.25z"></path><path class="treeFoliage2" d="M404,48c0,0,8-5,14-14.5s14.5-31,14.5-31s2.5,18,6.5,25S457,47,457,47l-11,8.5c0,0,2.5,6,6.5,12 S467,84,467,84s0.5,1.5-4.5,5.5s-8,5.5-8,5.5s-0.5,1,6,9s17.5,15,17.5,15l12,4.5c0,0-4.5,9-12.5,15.5s-13,10-23,10.5s-26.5-1-29-3 s-9.5,1.5-22,0.5s-19.5,0-25.5-5.5s-12.5-13-12.5-13s4.5,1.5,11-2.5s12.5-12.5,12.5-12.5l-12-8.5c0,0,7-0.5,14.5-9.5s12-16,12-16 l-11.5-2c0,0,5-8,10.5-15s6.5-10,6.5-10L404,48z"></path><path class="treeTrunk" d="M526.199,193.25c-2.552,4-19.563,4.875-22.965,0.375s0-55.625,0-55.625h22.965 C526.199,138,528.751,189.25,526.199,193.25z"></path><path class="treeFoliage1" d="M496.5,54.5c0,0,5-2.5,9.5-9.5s12-27.5,12-27.5s2,10,6.5,16.5S538,55,538,55l-9.5,1 c0,0,4.775,7.243,8.5,11.5c3.5,4,22.5,18.5,22.5,18.5s1,2-6.5,5s-14.5,1-14.5,1s1.5,9,7.5,16.5s23.5,16.5,23.5,16.5l-5.5,9 l11.5,5.5c0,0-11.5,11-22,14s-28.5,1.5-32,0s-31.5,6.75-41-0.25s-22-18.25-22-18.25H474l-9.5-9c0,0,9.072-4.319,15.5-12.5 c5.5-7,12-18.938,12-18.938s-12-1.531-15-4.531s4-3.516,11.5-11.516S506,56.008,506,56.008L496.5,54.5z"></path><path class="treeTrunk" d="M476.199,207.25c-2.552,4-19.563,4.875-22.965,0.375s0-55.625,0-55.625h22.965 C476.199,152,478.751,203.25,476.199,207.25z"></path><path class="treeFoliage3" d="M454,76l7.5-10.5c8-11,15.5-24.5,15.5-24.5s3.5,10.5,6.5,19.5s11.5,22,11.5,22l-10,2c0,0,4,6,11,15 s19.5,18,19.5,18s0.5,2.5-8,5.5s-8.5,3-8.5,3s-3,3.5,7,13.5s25.5,19,25.5,19l-8,5.5c0,0-1.5,4.5-17,5s-33.5-4.5-37.5-9 s-4-4.5-4-4.5l-19.5,6.5c0,0-18.5,4-26,1s-7.5-5.5-7.5-5.5s10.5-9,20-20s13.5-23,13.5-23L433,104c0,0-2,2.5,6-4.5s20-20,20-20 L454,76z"></path><path class="treeFoliage2" d="M347,66l7.5-10.5c8-11,15.5-24.5,15.5-24.5s3.5,10.5,6.5,19.5s11.5,22,11.5,22l-10,2c0,0,4,6,11,15 s19.5,18,19.5,18s0.5,2.5-8,5.5s-8.5,3-8.5,3s-3,3.5,7,13.5s25.5,19,25.5,19l-8,5.5c0,0-1.5,4.5-17,5s-33.5-4.5-37.5-9 s-4-4.5-4-4.5l-19.5,6.5c0,0-18.5,4-26,1s-7.5-5.5-7.5-5.5s10.5-9,20-20s13.5-23,13.5-23L326,94c0,0-2,2.5,6-4.5s20-20,20-20 L347,66z"></path><path class="treeFoliage3" d="M315.372,72.169c0,0,5.641-2.68,10.718-10.185c5.077-7.505,13.538-29.484,13.538-29.484 s2.256,10.721,7.333,17.69c5.077,6.969,15.231,22.515,15.231,22.515l-10.718,1.072c0,0,5.387,7.765,9.59,12.33 c3.949,4.289,25.385,19.835,25.385,19.835s1.128,2.144-7.333,5.361s-16.359,1.072-16.359,1.072s1.692,9.649,8.462,17.69 s26.513,17.69,26.513,17.69l-6.205,9.649l12.974,5.897c0,0-12.974,11.794-24.821,15.01c-11.846,3.216-32.154,1.608-36.103,0 c-3.949-1.608-35.538,6.998-46.256-0.507C286.603,170.3,272.5,158,272.5,158h17.487l-10.718-9.411c0,0,10.235-4.511,17.487-13.283 c6.205-7.505,13.538-20.244,13.538-20.244s-13.538-1.612-16.923-4.828s4.513-3.754,12.974-12.332 c8.462-8.577,19.744-24.124,19.744-24.124L315.372,72.169z"></path><path class="treeFoliage3" d="M116.085,92.237l8.408-11.771C133.461,68.134,141.869,53,141.869,53s3.924,11.771,7.287,21.861 c3.363,10.09,12.892,24.663,12.892,24.663l-11.211,2.242c0,0,4.484,6.726,12.332,16.816s21.861,20.179,21.861,20.179 s0.561,2.803-8.968,6.166c-9.529,3.363-9.529,3.363-9.529,3.363s-3.363,3.924,7.847,15.134c11.211,11.211,28.587,21.3,28.587,21.3 l-8.968,6.166c0,0-1.682,5.045-19.058,5.605s-37.556-5.045-42.04-10.09c-4.484-5.045-4.484-5.045-4.484-5.045l-21.861,7.287 c0,0-20.74,4.484-29.148,1.121C69,186.406,69,183.604,69,183.604s11.771-10.09,22.421-22.421 c10.65-12.332,15.134-25.784,15.134-25.784l-14.013-11.771c0,0-2.242,2.803,6.726-5.045s22.421-22.421,22.421-22.421 L116.085,92.237z"></path><path class="treeTrunk" d="M56.5,179.5l2.613,53.5c0,0,2.613,2.5,10.451,1.5S83,231,83,231l-1.866-54L56.5,179.5z"></path><path class="treeTrunk" d="M14.5,202.803l3.401,59.986c0,0,3.401,2.803,13.606,1.682S49,260.547,49,260.547L46.57,200L14.5,202.803z"></path><path class="treeTrunk" d="M551,169l0.5,56c0,0,1,3,11,4s17-3,17-3l0.5-58L551,169z"></path><path class="treeFoliage2" d="M545,79c0,0,8-5,14-14.5s14.5-31,14.5-31s2.5,18,6.5,25s13.5,22,13.5,22l-6.5,6c0,0,2.5,6,6.5,12 S608,115,608,115s0.5,1.5-4.5,5.5s-8,5.5-8,5.5s-0.5,1,6,9s17.5,15,17.5,15l12,4.5c0,0-4.5,9-12.5,15.5s-13,10-23,10.5 s-26.5-1-29-3s-9.5,1.5-22,0.5s-19.5,0-25.5-5.5s-12.5-13-12.5-13s4.5,1.5,11-2.5s12.5-12.5,12.5-12.5l-12-8.5c0,0,7-0.5,14.5-9.5 s12-16,12-16l-11.5-2c0,0,5-8,10.5-15s6.5-10,6.5-10L545,79z"></path><path class="treeTrunk" d="M244.5,202.5L248,256c0,0,6.5,2.333,17,1.333S280,254,280,254l-2.5-54L244.5,202.5z"></path><path class="treeFoliage1" d="M260,79.5c0,0,3-0.5,8-10.5s11-25.5,11-25.5s2.5,10,9,17.5s18.5,16,18.5,16s3,1.5-3.5,4s-9.5,3-9.5,3 s1,2,9,7.5s23,13.5,23,13.5s1.5,1.5-5,7.5S305,124,305,124s-6-4,6,6.5s33.5,23,33.5,23s2.5,4.5-3.5,8s-6,6.5-6,6.5s0.5,1,8,2 s11.5,1.5,11.5,1.5S346,186,339,190s-17.5,9-27,11.5s-33,1.5-33,1.5L260,79.5z"></path><path class="treeFoliage2" d="M56.5,76.5c0,0,3.5-0.5,11.5-11S81.5,45,81.5,45s1,8,5.5,15s16,16.5,16,16.5s-1,2-4.5,2.5S92,81,92,81 s6.5,12.5,11.5,18.5s13,11,13,11s3,0.5-4,4S103,119,103,119s0.5,4.5,7,10s19,13.5,19,13.5s1.5,2.5-2.5,6.5s-6,7.5-6,7.5 s-1,2.5,8,7.5s11,7,11,7s-6,9.5-17.5,14.5s-20.5,8.5-27.5,9.5S83,189.5,83,189.5s-12,7-20,7.5s-22-3.5-27.5-6.5S24,183,24,183 s0.5,0.5,9-4.5S47,165,47,165s-12-6-15-10.5s-3-4.5-3-4.5s7,1,15.5-8s17-25.5,17-25.5S51,114.5,46,110s-5-4.5-5-4.5s-4.5,3,6.5-5 s19-23,19-23L56.5,76.5z"></path><path class="treeFoliage2" d="M237.5,91.5c0,0,3.5-0.5,11.5-11S262.5,60,262.5,60s1,8,5.5,15s16,16.5,16,16.5s-1,2-4.5,2.5s-6.5,2-6.5,2 s6.5,12.5,11.5,18.5s13,11,13,11s3,0.5-4,4S284,134,284,134s0.5,4.5,7,10s19,13.5,19,13.5s1.5,2.5-2.5,6.5s-6,7.5-6,7.5 s-1,2.5,8,7.5s11,7,11,7s-6,9.5-17.5,14.5s-20.5,8.5-27.5,9.5s-11.5-5.5-11.5-5.5s-12,7-20,7.5s-22-3.5-27.5-6.5S205,198,205,198 s0.5,0.5,9-4.5s14-13.5,14-13.5s-12-6-15-10.5s-3-4.5-3-4.5s7,1,15.5-8s17-25.5,17-25.5s-10.5-2-15.5-6.5s-5-4.5-5-4.5 s-4.5,3,6.5-5s19-23,19-23L237.5,91.5z"></path><path class="treeFoliage1" d="M-4.5,123.5c0,0,24-24,26-26S6.5,92,6.5,92s17.5-14.5,22-22s12-26.5,12-26.5S44,56,49.5,65S76,91.5,76,91.5 s-5,3-11.5,4.5S54,97,54,97s6.5,15,13.5,22.5s34,34,34,34s2-2.5-6.5,2s-14,6-14,6s0,6,5,12s20,16.5,20,16.5s-22,14.5-35,17.5 s-22,4-27.5,2S34,205,34,205s-4.5,6.5-17.5,6s-20-3-20-3L-4.5,123.5z"></path><path class="treeTrunk" d="M426.5,220.25c-3,4-23,4.875-27,0.375s0-55.625,0-55.625h27C426.5,165,429.5,216.25,426.5,220.25z"></path><path class="treeFoliage4" d="M384.5,72.5c0,0,5-2.5,9.5-9.5s12-27.5,12-27.5s2,10,6.5,16.5S426,73,426,73l-9.5,1 c0,0,4.775,7.243,8.5,11.5c3.5,4,22.5,18.5,22.5,18.5s1,2-6.5,5s-14.5,1-14.5,1s1.5,9,7.5,16.5s23.5,16.5,23.5,16.5l-5.5,9 l11.5,5.5c0,0-11.5,11-22,14s-28.5,1.5-32,0s-31.5,6.75-41-0.25s-22-18.25-22-18.25H362l-9.5-9c0,0,9.072-4.319,15.5-12.5 c5.5-7,12-18.938,12-18.938s-12-1.531-15-4.531s4-3.516,11.5-11.516S394,74.008,394,74.008L384.5,72.5z"></path></svg></scene-element></scene-wrapper>');

}]);