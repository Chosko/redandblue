!function(){"use strict";angular.module("redandblue",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ui.bootstrap","sn.skrollr"])}(),function(){"use strict";function e(e){function t(e,t,n){}var n={restrict:"E",templateUrl:"app/main/sky/sky.html",link:t,scope:{scene:"="}};return n}angular.module("redandblue").directive("sky",e),e.$inject=["Anim8"]}(),function(){"use strict";function e(e,t,n,a){function c(){var e=this;e.toAnimate=[]}function r(e,t,n,a){}var s={restrict:"E",templateUrl:"app/main/road/road.html",controller:c,bindToController:!0,controllerAs:"vm",link:r,scope:{scene:"="}};return s}angular.module("redandblue").directive("road",e),e.$inject=["Anim8","utils","SKY_NIGHT_COLOR","SKY_DAY_COLOR"]}(),function(){"use strict";function e(e,t,n,a){function c(){var c=this;c.toAnimate=[];var r=-c.scene.height/2,s=c.scene.top+r,l=c.scene.top;c.parallaxStart=c.scene.top-t.windowHeight,c.parallaxEnd=c.scene.bottom,c.sunriseStart=s,c.sunriseEnd=l,c.sunriseParallax=50,c.layer2Parallax=-60,c.layer1Parallax=-35,c.cloud0Parallax=10,c.cloud1Parallax=13;var i=n.clone().darken(2),o=tinygradient(["rgb(37,39,41)",a.clone().darken(6).desaturate(30)]).rgb(3),d=new e("#mountains-scene .mountains0");d.addKeyFrame(s,"fill: "+i.toRgbString()),d.addKeyFrame(l,"fill: "+o[0].toRgbString()),c.toAnimate.push(d);var u=new e("#mountains-scene .mountains1");u.addKeyFrame(s,"fill: "+i.toRgbString()),u.addKeyFrame(l,"fill: "+o[1].toRgbString()),c.toAnimate.push(u);var p=new e("#mountains-scene .mountains2,#mountains");p.addKeyFrame(s,"fill: "+i.toRgbString()),p.addKeyFrame(l,"fill: "+o[2].toRgbString()),c.toAnimate.push(p);var m=new e("#mountains-scene .clouds");m.addKeyFrame(s,"fill: "+i.toRgbString()),m.addKeyFrame(l,"fill: rgb(255,255,255)"),c.toAnimate.push(m);var h=new e("#sky");h.addKeyFrame(s,"background-color: "+n.toRgbString()),h.addKeyFrame(l,"background-color: "+a.toRgbString()),c.toAnimate.push(h);var g=new e("#sun-gradient-center");g.addKeyFrame(s,"stop-color:rgb(255, 40, 0)"),g.addKeyFrame(l,"stop-color:rgb(255, 233, 184)"),c.toAnimate.push(g);var v=new e("#sun-gradient-edge");v.addKeyFrame(s,"stop-color:rgb(255, 0, 0)"),v.addKeyFrame(l,"stop-color:rgb(255, 218, 130)"),c.toAnimate.push(v)}function r(t,n,a,c){e.start(c.toAnimate)}var s={restrict:"E",templateUrl:"app/main/mountains/mountains.html",controller:c,bindToController:!0,controllerAs:"vm",link:r,scope:{scene:"="}};return s}angular.module("redandblue").directive("mountains",e),e.$inject=["Anim8","utils","SKY_NIGHT_COLOR","SKY_DAY_COLOR"]}(),function(){"use strict";function e(){var e={windowHeight:$(window).height(),windowWidth:$(window).width(),aspectRatio:$(window).width()/$(window).height()};return e}angular.module("redandblue").factory("utils",e)}(),function(){"use strict";function e(e){var t=0,n={},a={add:function(a,c,r){var s={};s.scaling=e.windowWidth/c,s.top=t,s.originalHeight=r,s.height=r*s.scaling,s.bottom=s.top+s.height,s.left=0,s.originalWidth=c,s.width=c*s.scaling,s.right=s.left+s.width,t=s.bottom,n[a]=s},calculateWrapper:function(e){var t=Number.MAX_VALUE,a=0,c=0,r=Number.MAX_VALUE;return angular.forEach(e,function(e){var s=n[e];s&&(s.top<t&&(t=s.top),s.right>a&&(a=s.right),s.bottom>c&&(c=s.bottom),s.left<r&&(r=s.left))}),{top:t,right:a,bottom:c,left:r,height:c-t,width:a-r}},getScenes:function(){return n}};return a}angular.module("redandblue").factory("scenes",e),e.$inject=["utils"]}(),function(){"use strict";function e(e){function t(t,n,a){var c=n.children(".scene-wrapper");if(t.sceneId||(t.sceneId="sw"+Math.ceil(1e7*Math.random())),t.recalculate=function(){t.scene.height&&c.css("height",t.scene.height+"px"),t.scene.width&&c.css("width",t.scene.width+"px"),t.scene.top&&c.css("top",t.scene.top+"px"),t.scene.left&&c.css("left",t.scene.left+"px")},t.recalculate(),t.scroll){c.addClass("animation fixed");var r=new e(c);r.addKeyFrame(t.scene.top,"top: 0px"),r.addKeyFrame(t.scene.bottom,"top: "+-t.scene.height+"px"),e.start(r)}t.$watch("scene",function(e,n){e!==n&&t.recalculate()})}var n={restrict:"E",template:'<div id="{{ sceneId }}" class="animation scene-wrapper" ng-class="{\'scroll\': scroll, \'no-scroll\': !scroll}"><ng-transclude></ng-transclude></div>',link:t,transclude:!0,scope:{scene:"=",scroll:"=",sceneId:"="}};return n}angular.module("redandblue").directive("sceneWrapper",e),e.$inject=["Anim8"]}(),function(){"use strict";function e(e){var t=function(e){this.selector=e,this.keyframes={},this.statics=[]};return t.prototype.selector=null,t.prototype.keyframes=null,t.prototype.statics=null,t.prototype.addKeyFrame=function(e,t){e+="";var n,a=this.keyframes[e];n=Array.isArray(t)?t:[t],this.keyframes[e]=a?a.concat(n):n},t.prototype.addStatic=function(e,t){this.statics.push([e,t])},t.prototype.generate=function(){var e=this;$.each(e.statics,function(t,n){$(e.selector).css(n[0],n[1])});var t=!1;$.each(e.keyframes,function(n,a){$(e.selector).attr("data-"+n,a.join(";")),t=!0}),t&&$(e.selector).attr("sn-skrollr","")},t.start=function(t){angular.isArray(t)?angular.forEach(t,function(e){e.generate()}):t.generate(),e.refresh()},t.refresh=function(){e.refresh()},t}angular.module("redandblue").factory("Anim8",e),e.$inject=["snSkrollr"]}(),function(){"use strict";function e(e){function t(t,n,a){if(t.start&&t.end){var c=n.children(".scene-parallax");t.vertical||(t.vertical=0),t.horizontal||(t.horizontal=0);var r=new e(c);r.addKeyFrame(t.start,"transform: translate("+-t.horizontal+"%, "+t.vertical+"%)"),r.addKeyFrame(t.end,"transform: translate("+t.horizontal+"%, "+-t.vertical+"%)"),e.start(r)}}var n={restrict:"E",template:'<div class="scene-parallax"><ng-transclude></ng-transclude></div>',link:t,transclude:!0,scope:{start:"=",end:"=",vertical:"=",horizontal:"="}};return n}angular.module("redandblue").directive("sceneParallax",e),e.$inject=["Anim8"]}(),function(){"use strict";function e(){function e(e,t,n){var a=t.children(".scene-element-vertical"),c=a.children(".scene-element-horizontal");e.top&&a.css("padding-top",(e.top||0)+"%"),e.horizontal&&c.css("left",e.horizontal+"%"),e.height&&c.css("height",e.height+"%"),e.width&&c.css("width",e.width+"%")}var t={restrict:"E",template:'<div class="scene-element scene-element-vertical"><div class="scene-element-horizontal"><ng-transclude></ng-transclude></div></div>',link:e,transclude:!0,scope:{top:"=",horizontal:"=",height:"=",width:"="}};return t}angular.module("redandblue").directive("sceneElement",e)}(),function(){"use strict";function e(e,t){var n=this;n.scenes=e.getScenes(),e.add("sky",1280,1280),e.add("mountains",1280,800),e.add("road",1280,800),n.fullScene=e.calculateWrapper(["sky","mountains","road"]),n.skyMountains=e.calculateWrapper(["sky","mountains"]);var a=[],c=new t("#sky-wrapper");c.addKeyFrame(0,"top: 0px"),c.addKeyFrame(n.skyHeight,"top: "+-n.skyHeight+"px"),a.push(c),t.start(a)}angular.module("redandblue").controller("MainController",e),e.$inject=["scenes","Anim8"]}(),function(){"use strict";function e(e,t){t.init(),e.debug("runBlock end")}angular.module("redandblue").run(e),e.$inject=["$log","snSkrollr"]}(),function(){"use strict";function e(e,t){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),t.otherwise("/")}angular.module("redandblue").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("redandblue").constant("toastr",toastr).constant("moment",moment).constant("Snap",Snap).constant("SKY_NIGHT_COLOR",tinycolor("rgb(0,0,40)")).constant("SKY_DAY_COLOR",tinycolor("rgb(136, 184, 216)"))}(),function(){"use strict";function e(e,t,n){e.debugEnabled(!0),t.options.timeOut=3e3,t.options.positionClass="toast-top-right",t.options.preventDuplicates=!0,t.options.progressBar=!0;var a=$(window).height();n.config={smoothScrolling:!0,smoothScrollingDuration:600,constants:{mountains:a,sun:a/2}}}angular.module("redandblue").config(e),e.$inject=["$logProvider","toastr","snSkrollrProvider"]}(),angular.module("redandblue").run(["$templateCache",function(e){e.put("app/main/main.html",'<scene-wrapper scene="main.fullScene" scroll="true"><scene-wrapper scene="main.skyMountains"><div id="sky" class="absolute fill"><sky scene="main.scenes.sky"></sky><mountains scene="main.scenes.mountains"></mountains></div></scene-wrapper><road scene="main.scenes.road"></road></scene-wrapper>'),e.put("app/main/mountains/mountains.html",'<scene-wrapper scene="vm.scene" id="mountains-scene"><scene-parallax start="vm.parallaxStart" end="vm.parallaxEnd" vertical="vm.layer2Parallax"><scene-parallax start="vm.sunriseStart" end="vm.parallaxEnd" vertical="vm.sunriseParallax"><scene-element top="2" width="16"><svg viewbox="0 0 64 64"><g class="sun" style="fill: url(\'#sun-gradient\')"><radialgradient id="sun-gradient" cx="32" cy="32" r="32" gradientunits="userSpaceOnUse"><stop id="sun-gradient-center" offset="0"></stop><stop id="sun-gradient-edge" offset="1"></stop></radialgradient><circle cx="32" cy="32" r="32"></circle></g></svg></scene-element></scene-parallax><scene-element top="30" width="100"><svg viewbox="0 255 1280 545"><g class="mountains2"><path d="M-0.7,347.2c28.9-14.3,52.3-36.4,60.1-41.6c7.8-5.2,44.2,26,50.6,20.8s28.6-20.5,28.6-20.5 l31.2,10.1l18.2-3.6l27.3-18.2l48.1-36.4c0,0,14.3,13,18.2,14.3c3.9,1.3,31.2,14,31.2,14s40.4,21.8,53.2,15.6 c15.2-7.4,30.5-22.6,42.9-29.9c9.9-5.8,20.8-14,24.9-8.1c23.2,32.8,52.4-6.3,60.8,2.9c0,0,15.6,11.3,26,15.4 c10.4,4.1,19.8,9.9,36.4,6.7c8.9-1.7,57.9-35.2,59.7-30.9c5.4,12.5,36.4,20.3,44.2,30.9c7.8,10.6,26,0,41.6,2.6 c15.6,2.6,42.9-23.4,42.9-23.4s27.3,24.5,31.2,23.4c2.1-0.6,14.4-7.7,25.2-14c8.1-4.7,18.3-1.6,22.7,6.6c1.6,2.9,3.4,5.1,5.4,5.1 c6.5,0,28.6-9.3,28.6-9.3l8.9-8.1c4.3-3.9,10.9-3.7,14.9,0.4c7.9,8.1,20.9,19.1,29.4,15.7c13-5.2,29.9,0,36.4,0 c6.5,0,53.2,30.9,62.3,27c9.1-3.9,62,22.8,71.4,19.5c15.2-5.3,33.8-24.7,50.7-23.4c16.9,1.3,25.1-18.7,45.5-27.3 c5.9-2.5,34.5,12.5,58.4,11.7c11.5-0.4,45.2,2.6,45.2,2.6l-1.9,502.1L-1.2,799.5L-0.7,347.2z"></path></g></svg></scene-element></scene-parallax><scene-parallax start="vm.parallaxStart" end="vm.parallaxEnd" vertical="vm.layer1Parallax"><scene-element top="33" width="100"><svg viewbox="0 253 1280 548"><g class="mountains1"><path d="M-0.7,375.8c12.8-6.5,71.2-42.9,76.4-48.1c5.2-5.2,51.9-44.2,51.9-44.2s11.8,22.7,24,26.6 s51.3,16.3,64.3,19.5c13,3.2,120.7-19.9,121.3-19.3c0.6,0.6,15.1-21.6,22.9-26.8c7.8-5.2,45.9-32.3,59.7-26.1 c13.8,6.3,39,46.9,54.5,45.6s45.5-2.6,46.8,3.9c1.3,6.5,32.5,4.2,40.3,9.2c7.8,5.1,57.3-16.1,62.3-20.2c5-4.1,63.6-39.4,63.6-39.4 s29.9,59.7,29.9,59.6c0-0.1,26,51.8,33.8,51.8c7.8,0,61-89.6,61-89.6s15.6-17.7,27.3-21.8c11.7-4.2,27.3-4.4,27.3,0.9 c0,5.3,19.5,36.5,22.1,46.9s23.4,10.2,45.5,10.3c22.1,0.1,41.6-45.3,48.1-47.9c6.5-2.6,80.5-15.8,88.3-9.2 c7.8,6.6,16.9,14.4,24.7,19.6c7.8,5.2,8.3,11.5,23,15.5c14.7,4,22.5,6.6,38.1,10.5c15.6,3.9,9.1,6.3,42.9,11.6s40.7-19.9,58.5-18.6 c17.8,1.3,22.5-28.1,22.5-28.1l-0.7,532L-1.2,799.5L-0.7,375.8z"></path></g></svg></scene-element><scene-parallax start="vm.parallaxStart" end="vm.parallaxEnd" horizontal="vm.cloud0Parallax"><scene-element top="5" horizontal="-40" width="27"><svg viewbox="0 70 300 111"><g class="clouds"><path d="M9.8,142.6c-4.2-8.7-4.3-19.2-0.3-28s12-15.6,21.3-18.2c2-9,8.2-17,16.5-21 c5.3-2.6,32.3-9.1,49.3,30.2c1.6,3.7,8.7,15,11.7,17.7c1.7,1.5,23.6,10.7,25.7,11.7c11.2,5.2,26.7,0.7,36,12.3 c18,4.7,35.2-10.6,49.4,0c1.3,1,2.7,2.1,4.2,2.7c2.3,0.9,4.8,0.6,7.2,0.5c15.4-1,31,2.7,44.3,10.4c2.6,1.5,5.2,3.2,8.2,4 c2.8,0.8,5.8,0.7,8.6,1.4c3.6,0.9,7.2,3.5,6.4,7.8c-0.3,1.3-1,2.6-2,3.5c-2.8,2.6-6.6,3-10.2,3c-16.1,0.2-32.6,0.6-48.7,0.1 c-16.6-0.5-30.4,0.1-47-0.1c-11.2-0.1-30.4,0.3-41.7,0c-38.6-1-65.3-1.6-99-3c-8.3-0.3-15.9-0.1-24.1-1.5 c-8.2-1.4-16.3-5.6-20.4-12.7c-4.1-7.2-2.9-17.6,4-22.2"></path></g></svg></scene-element><scene-parallax start="vm.parallaxStart" end="vm.parallaxEnd" horizontal="vm.cloud1Parallax"><scene-element top="20" horizontal="30" width="27"><svg viewbox="854 50 375 100"><g class="clouds"><path d="M854.5,124.3c0.5-9.5,9.6-16.7,18.9-18.8s18.9-0.3,28.3,1.5c-1.2-11.6,10.6-20.7,22.1-22.7 s23.3,0.5,34.8-0.9c16-1.9,27.2-31.8,43.4-31.3c2.5,0.1,14.3,5.4,24.3,10c9.1,4.2,19.5,4.5,28.8,0.8c8-3.2,17.3-6.3,21.5-5.4 c16.4,3.7,22.8,19.4,39.2,23.1c4.5,1,9.4,2.3,12.2,5.9c2,2.6,2,6.7,0.3,9.2c-0.6,0.8-0.1,1.9,0.9,2c14.7,0.4,28.8,6.5,42.3,12.6 c14.6,6.5,29.2,13.1,43.8,19.6c3.7,1.6,7.8,3.7,8.1,8.2c0.2,2.7-1.2,5.3-3.3,7c-4.4,3.4-10,3-15.2,2.6 c-63.2-4.9-126.9-4.2-190,1.9c-6.9,0.7-18.2,0.7-25.1,0.1c-16.9-1.4-46.8-1.5-61.1-1.8C900.6,147.3,853.3,148.8,854.5,124.3z"></path></g></svg></scene-element></scene-parallax></scene-parallax><scene-parallax start="vm.parallaxStart" end="vm.parallaxEnd" horizontal="vm.cloud1Parallax"></scene-parallax></scene-parallax><scene-parallax><scene-element top="37" width="100"><svg viewbox="0 220 1280 570"><g class="mountains0"><path d="M1278.5,308.9c11.9,4.2-8.5,8.5-44.5-20.3c-14-11.2-55-40.4-65.4-34.1 c-10.4,6.3-75.6,56.9-90,61c-14.3,4.1-50.9,30.1-70.4,23.7c-19.6-6.3-121.3-8.9-144.8-23.8c-23.5-14.9-65.2-83.8-73-81.3 c-7.8,2.5-31.3,43-44.3,46.8c-13,3.8-32.6-2.5-32.6-2.5s-22.2-22.8-26.1-22.8c-3.9,0-33.9,16.5-41.7,21.5s-54.8,43-65.2,54.4 c-10.4,11.4-60.2,43.8-72.3,41.8c-36.1-6.2-30.7-2.5-59.4-10.1c-28.7-7.6-66.5-35.4-90-40.5c-23.5-5.1-67.8-74.7-67.8-74.7 s0,0-7.8-3.8c-7.8-3.8-31.3-25.3-40.4-22.8c-9,2.5-70.9,70.8-87.4,105.5c-5.4,11.5-8.7,18.6-25,26.1c-6.2,2.8-22.8,10.5-28.7,13.9 l-23.6,5.1l-79.8,37.5V800h1280.5L1278.5,308.9z"></path></g></svg></scene-element></scene-parallax></scene-wrapper>'),e.put("app/main/road/road.html",'<scene-wrapper scene="vm.scene" id="road-scene"><scene-element top="30" width="20"><svg viewbox="0 0 640 480"><path fill="#E0DFD9" d="M491.535,175.864c0,0,16.215,14.636,26.965,27.386S529.25,216,529.25,216l0,0l18,24L532,248.944L480,207 l-20.333-17l9.833-18.083L491.535,175.864z"></path><path fill="#FFFFFF" d="M512.219,171.25c0,0-8.054,0.376-24.219,5.75c-22.315,7.419-27.258,13.213-27.258,13.213l0.293-44.717 L464.5,133l28.75,12.75L512.219,171.25z"></path><path fill="#999999" d="M235.5,307l64.167-23.666l47.944,0.831c0,0-27.61,48.835-17.277,51.835s75,14.666,77.333,13 s51-112.667,51-112.667L457,142.667c0,0,16.334,9,16.334,21.333s-13.667,26.333-13.667,26s30.666,8.208,43.333,20.771 s30,35.784,29,38.174s-33.36,29.694-53.666,52.723c-19.019,21.568-45.334,77.999-47.667,80.666s-75.666,2.001-81.333,1.334 S275,376.333,275,376.333"></path><path fill="#FFFFFF" d="M95,218v4c0,0,4.5,1,9,1s131.5,84,131.5,84l16.5,27.5c0,0,11-19.5,25-29.5s30-14,30-14l-6.779-6.44 L120.167,217.5L95,218z"></path><path fill="#0A0D0B" d="M456,143v-4c0,0,2.5-3,8-7.75s13.5-9.25,13.5-9.25s14.375,10.5,21.625,19.25s19.813,28.5,18.063,30 s-4.969,0-4.969,0s-10.977-15.25-22.727-22s-15.996-9.25-21.496-9.5s-6.961,5.746-6.961,5.746L456,143z"></path><path d="M611,377c0,35.347-28.653,64-64,64l0,0c-35.347,0-64-28.653-64-64l0,0c0-35.347,28.653-64,64-64l0,0 C582.347,313,611,341.653,611,377L611,377z"></path><path d="M220,377c0,35.347-28.653,64-64,64l0,0c-35.347,0-64-28.653-64-64l0,0c0-35.347,28.653-64,64-64l0,0 C191.347,313,220,341.653,220,377L220,377z"></path><path fill="#0A0D0B" d="M44.426,151.754c2.968-17.806,3.247-52.242,50.82-45.901c23.928,2.744,56.557,9.016,54.098,54.098 c0,0,3.278,32.788-8.197,38.525s-20.878,8.196-44.045,5.737S35.41,205.852,44.426,151.754z"></path><path fill="#0A0D0B" d="M238.771,225.524c88.524,17.213,117.992,54.099,117.992,54.099s-24.611,22.951-110.677-11.476 c0,0-53.487-17.817-72.059-28.147c-14.119-7.853-47.193-21-53.86-22.5c-5.685,0.268-14.97,0.65-17.544-0.172 c-2.27-3.109,0-6.557,0-6.557L238.771,225.524z"></path><path fill="#FFFFFF" stroke="#1F1800" stroke-miterlimit="10" d="M583.5,377.557c0,20.403-16.54,36.943-36.943,36.943h-0.113 c-20.403,0-36.943-16.54-36.943-36.943v-0.113c0-20.403,16.54-36.943,36.943-36.943h0.113c20.403,0,36.943,16.54,36.943,36.943 V377.557z"></path><path d="M556,378c0,5.522-4.478,10-10,10l0,0c-5.522,0-10-4.478-10-10l0,0c0-5.522,4.478-10,10-10l0,0 C551.522,368,556,372.478,556,378L556,378z"></path><path fill="#FFFFFF" stroke="#1F1800" stroke-miterlimit="10" d="M193.5,377.557c0,20.403-16.54,36.943-36.943,36.943h-0.113 c-20.403,0-36.943-16.54-36.943-36.943v-0.113c0-20.403,16.54-36.943,36.943-36.943h0.113c20.403,0,36.943,16.54,36.943,36.943 V377.557z"></path><path d="M166,377c0,5.522-4.478,10-10,10l0,0c-5.522,0-10-4.478-10-10l0,0c0-5.522,4.478-10,10-10l0,0 C161.522,367,166,371.478,166,377L166,377z"></path><path fill="#333333" d="M264.333,359c0,0-6,4-22.667,6s-21.333,0-21.333,0s0.667-10.666-4-13.333s5.333-1.334-10.667-6.667 s-95.333-28.667-95.333-28.667s-9.138-2-13.902,10.667s5.183,24,5.183,24L209,388c0,0,4.667-3,6-7s6.333-0.667,20.5-3 s32.167-10,32.167-10L264.333,359z"></path><path d="M448.948,163.394c4.006-4.616,4.547-10.706,1.21-13.601l0,0c-3.337-2.895-9.289-1.501-13.295,3.115l-0.028,0.034 c-4.006,4.616-4.547,10.706-1.21,13.601l0,0c3.337,2.895,9.289,1.5,13.295-3.115L448.948,163.394z"></path></svg></scene-element></scene-wrapper>'),e.put("app/main/sky/sky.html",'<scene-wrapper scene="scene"><scene-element top="16" width="15"><svg viewbox="0 0 64 64"><g class="moon"><circle cx="32" cy="32" r="32"></circle><g class="moon-craters"><circle cx="39" cy="12" r="7"></circle><circle cx="21" cy="45" r="12"></circle><circle cx="14" cy="25" r="9"></circle></g></g></svg></scene-element></scene-wrapper>')}]);