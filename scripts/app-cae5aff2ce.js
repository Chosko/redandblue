!function(){"use strict";angular.module("redandblue",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ui.bootstrap","sn.skrollr"])}(),function(){"use strict";function e(e){function t(e,t,n){}var n={restrict:"E",templateUrl:"app/main/sky/sky.html",link:t,scope:{scene:"="}};return n}angular.module("redandblue").directive("sky",e),e.$inject=["Anim8"]}(),function(){"use strict";function e(e,t,n,a){function r(){var r=this;r.toAnimate=[];var c=-r.scene.height/2,s=r.scene.top+c,i=r.scene.top;r.parallaxStart=r.scene.top-t.windowHeight,r.parallaxEnd=r.scene.bottom,r.sunriseStart=s,r.sunriseEnd=i,r.sunriseParallax=30,r.layer2Parallax=-40,r.layer1Parallax=-20;var l=new e("#mountains-scene .mountains0");l.addKeyFrame(s,"fill: rgb(12,17,27)"),l.addKeyFrame(i,"fill: rgb(45, 54, 64)"),r.toAnimate.push(l);var o=new e("#mountains-scene .mountains1");o.addKeyFrame(s,"fill: rgb(12,17,27)"),o.addKeyFrame(i,"fill: rgb(90, 107, 127)"),r.toAnimate.push(o);var u=new e("#mountains-scene .mountains2");u.addKeyFrame(s,"fill: rgb(12,17,27)"),u.addKeyFrame(i,"fill: rgb(136,161,191)"),r.toAnimate.push(u);var d=new e("#sky");d.addKeyFrame(s,"background-color: "+n.toRgbString()),d.addKeyFrame(i,"background-color: "+a.toRgbString()),r.toAnimate.push(d);var p=new e("#sun-gradient-center");p.addKeyFrame(s,"stop-color:rgb(255, 233, 130)"),p.addKeyFrame(i,"stop-color:rgb(255, 233, 184)"),r.toAnimate.push(p);var m=new e("#sun-gradient-edge");m.addKeyFrame(s,"stop-color:rgb(255, 86, 75)"),m.addKeyFrame(i,"stop-color:rgb(255, 218, 130)"),r.toAnimate.push(m)}function c(t,n,a,r){e.start(r.toAnimate)}var s={restrict:"E",templateUrl:"app/main/mountains/mountains.html",controller:r,bindToController:!0,controllerAs:"vm",link:c,scope:{scene:"="}};return s}angular.module("redandblue").directive("mountains",e),e.$inject=["Anim8","utils","SKY_NIGHT_COLOR","SKY_DAY_COLOR"]}(),function(){"use strict";function e(){var e={windowHeight:$(window).height(),windowWidth:$(window).width(),aspectRatio:$(window).width()/$(window).height()};return e}angular.module("redandblue").factory("utils",e)}(),function(){"use strict";function e(e){var t=0,n={},a={add:function(a,r,c){var s={};s.scaling=e.windowWidth/r,s.top=t,s.originalHeight=c,s.height=c*s.scaling,s.bottom=s.top+s.height,s.left=0,s.originalWidth=r,s.width=r*s.scaling,s.right=s.left+s.width,t=s.bottom,n[a]=s},calculateWrapper:function(e){var t=Number.MAX_VALUE,a=0,r=0,c=Number.MAX_VALUE;return angular.forEach(e,function(e){var s=n[e];s&&(s.top<t&&(t=s.top),s.right>a&&(a=s.right),s.bottom>r&&(r=s.bottom),s.left<c&&(c=s.left))}),{top:t,right:a,bottom:r,left:c,height:r-t,width:a-c}},getScenes:function(){return n}};return a}angular.module("redandblue").factory("scenes",e),e.$inject=["utils"]}(),function(){"use strict";function e(e){function t(t,n,a){var r=n.children(".scene-wrapper");if(t.sceneId||(t.sceneId="sw"+Math.ceil(1e7*Math.random())),t.recalculate=function(){t.scene.height&&r.css("height",t.scene.height+"px"),t.scene.width&&r.css("width",t.scene.width+"px"),t.scene.top&&r.css("top",t.scene.top+"px"),t.scene.left&&r.css("left",t.scene.left+"px")},t.recalculate(),t.scroll){r.addClass("animation fixed");var c=new e(r);c.addKeyFrame(t.scene.top,"top: 0px"),c.addKeyFrame(t.scene.bottom,"top: "+-t.scene.height+"px"),e.start(c)}t.$watch("scene",function(e,n){e!==n&&t.recalculate()})}var n={restrict:"E",template:'<div id="{{ sceneId }}" class="animation scene-wrapper" ng-class="{\'scroll\': scroll, \'no-scroll\': !scroll}"><ng-transclude></ng-transclude></div>',link:t,transclude:!0,scope:{scene:"=",scroll:"=",sceneId:"="}};return n}angular.module("redandblue").directive("sceneWrapper",e),e.$inject=["Anim8"]}(),function(){"use strict";function e(e){function t(t,n,a){if(t.start&&t.end){var r=n.children(".scene-parallax");t.vertical||(t.vertical=0),t.horizontal||(t.horizontal=0);var c=new e(r);c.addKeyFrame(t.start,"transform: translate("+-t.horizontal+"%, "+t.vertical+"%)"),c.addKeyFrame(t.end,"transform: translate("+t.horizontal+"%, "+-t.vertical+"%)"),e.start(c)}}var n={restrict:"E",template:'<div class="scene-parallax"><ng-transclude></ng-transclude></div>',link:t,transclude:!0,scope:{start:"=",end:"=",vertical:"=",horizontal:"="}};return n}angular.module("redandblue").directive("sceneParallax",e),e.$inject=["Anim8"]}(),function(){"use strict";function e(){function e(e,t,n){var a=t.children(".scene-element-vertical"),r=a.children(".scene-element-horizontal");e.top&&a.css("padding-top",(e.top||0)+"%"),e.horizontal&&r.css("left",e.horizontal+"%"),e.height&&r.css("height",e.height+"%"),e.width&&r.css("width",e.width+"%")}var t={restrict:"E",template:'<div class="scene-element scene-element-vertical"><div class="scene-element-horizontal"><ng-transclude></ng-transclude></div></div>',link:e,transclude:!0,scope:{top:"=",horizontal:"=",height:"=",width:"="}};return t}angular.module("redandblue").directive("sceneElement",e)}(),function(){"use strict";function e(e){var t=function(e){this.selector=e,this.keyframes={},this.statics=[]};return t.prototype.selector=null,t.prototype.keyframes=null,t.prototype.statics=null,t.prototype.addKeyFrame=function(e,t){e+="";var n,a=this.keyframes[e];n=Array.isArray(t)?t:[t],this.keyframes[e]=a?a.concat(n):n},t.prototype.addStatic=function(e,t){this.statics.push([e,t])},t.prototype.generate=function(){var e=this;$.each(e.statics,function(t,n){$(e.selector).css(n[0],n[1])});var t=!1;$.each(e.keyframes,function(n,a){$(e.selector).attr("data-"+n,a.join(";")),t=!0}),t&&$(e.selector).attr("sn-skrollr","")},t.start=function(t){angular.isArray(t)?angular.forEach(t,function(e){e.generate()}):t.generate(),e.refresh()},t.refresh=function(){e.refresh()},t}angular.module("redandblue").factory("Anim8",e),e.$inject=["snSkrollr"]}(),function(){"use strict";function e(e,t){var n=this;n.scenes=e.getScenes(),e.add("sky",1280,800),e.add("mountains",1280,800),n.fullScene=e.calculateWrapper(["sky","mountains"]);var a=[],r=new t("#sky-wrapper");r.addKeyFrame(0,"top: 0px"),r.addKeyFrame(n.skyHeight,"top: "+-n.skyHeight+"px"),a.push(r),t.start(a)}angular.module("redandblue").controller("MainController",e),e.$inject=["scenes","Anim8"]}(),function(){"use strict";function e(e,t){t.init(),e.debug("runBlock end")}angular.module("redandblue").run(e),e.$inject=["$log","snSkrollr"]}(),function(){"use strict";function e(e,t){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),t.otherwise("/")}angular.module("redandblue").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("redandblue").constant("toastr",toastr).constant("moment",moment).constant("Snap",Snap).constant("SKY_NIGHT_COLOR",tinycolor("rgb(0,0,24)")).constant("SKY_DAY_COLOR",tinycolor("rgb(136, 184, 216)"))}(),function(){"use strict";function e(e,t,n){e.debugEnabled(!0),t.options.timeOut=3e3,t.options.positionClass="toast-top-right",t.options.preventDuplicates=!0,t.options.progressBar=!0;var a=$(window).height();n.config={smoothScrolling:!0,smoothScrollingDuration:600,constants:{mountains:a,sun:a/2}}}angular.module("redandblue").config(e),e.$inject=["$logProvider","toastr","snSkrollrProvider"]}(),angular.module("redandblue").run(["$templateCache",function(e){e.put("app/main/main.html",'<scene-wrapper scene="main.fullScene" scroll="true"><scene-wrapper scene="main.fullScene"><div id="sky" class="absolute fill"><sky scene="main.scenes.sky"></sky><mountains scene="main.scenes.mountains"></mountains></div></scene-wrapper></scene-wrapper>'),e.put("app/main/mountains/mountains.html",'<scene-wrapper scene="vm.scene" id="mountains-scene"><scene-parallax start="vm.parallaxStart" end="vm.parallaxEnd" vertical="vm.layer2Parallax"><scene-parallax start="vm.sunriseStart" end="vm.parallaxEnd" vertical="vm.sunriseParallax"><scene-element top="4" width="30"><svg viewbox="0 0 64 64"><g class="sun" style="fill: url(\'#sun-gradient\')"><radialgradient id="sun-gradient" cx="32" cy="32" r="32" gradientunits="userSpaceOnUse"><stop id="sun-gradient-center" offset="0"></stop><stop id="sun-gradient-edge" offset="1"></stop></radialgradient><circle cx="32" cy="32" r="32"></circle></g></svg></scene-element></scene-parallax><scene-element top="20" width="100"><svg viewbox="0 255 1280 545"><g class="mountains2"><path d="M-0.7,347.2c28.9-14.3,52.3-36.4,60.1-41.6c7.8-5.2,44.2,26,50.6,20.8s28.6-20.5,28.6-20.5 l31.2,10.1l18.2-3.6l27.3-18.2l48.1-36.4c0,0,14.3,13,18.2,14.3c3.9,1.3,31.2,14,31.2,14s40.4,21.8,53.2,15.6 c15.2-7.4,30.5-22.6,42.9-29.9c9.9-5.8,20.8-14,24.9-8.1c23.2,32.8,52.4-6.3,60.8,2.9c0,0,15.6,11.3,26,15.4 c10.4,4.1,19.8,9.9,36.4,6.7c8.9-1.7,57.9-35.2,59.7-30.9c5.4,12.5,36.4,20.3,44.2,30.9c7.8,10.6,26,0,41.6,2.6 c15.6,2.6,42.9-23.4,42.9-23.4s27.3,24.5,31.2,23.4c2.1-0.6,14.4-7.7,25.2-14c8.1-4.7,18.3-1.6,22.7,6.6c1.6,2.9,3.4,5.1,5.4,5.1 c6.5,0,28.6-9.3,28.6-9.3l8.9-8.1c4.3-3.9,10.9-3.7,14.9,0.4c7.9,8.1,20.9,19.1,29.4,15.7c13-5.2,29.9,0,36.4,0 c6.5,0,53.2,30.9,62.3,27c9.1-3.9,62,22.8,71.4,19.5c15.2-5.3,33.8-24.7,50.7-23.4c16.9,1.3,25.1-18.7,45.5-27.3 c5.9-2.5,34.5,12.5,58.4,11.7c11.5-0.4,45.2,2.6,45.2,2.6l-1.9,502.1L-1.2,799.5L-0.7,347.2z"></path></g></svg></scene-element></scene-parallax><scene-parallax start="vm.parallaxStart" end="vm.parallaxEnd" vertical="vm.layer1Parallax"><scene-element top="20" width="100"><svg viewbox="0 253 1280 548"><g class="mountains1"><path d="M-0.7,375.8c12.8-6.5,71.2-42.9,76.4-48.1c5.2-5.2,51.9-44.2,51.9-44.2s11.8,22.7,24,26.6 s51.3,16.3,64.3,19.5c13,3.2,120.7-19.9,121.3-19.3c0.6,0.6,15.1-21.6,22.9-26.8c7.8-5.2,45.9-32.3,59.7-26.1 c13.8,6.3,39,46.9,54.5,45.6s45.5-2.6,46.8,3.9c1.3,6.5,32.5,4.2,40.3,9.2c7.8,5.1,57.3-16.1,62.3-20.2c5-4.1,63.6-39.4,63.6-39.4 s29.9,59.7,29.9,59.6c0-0.1,26,51.8,33.8,51.8c7.8,0,61-89.6,61-89.6s15.6-17.7,27.3-21.8c11.7-4.2,27.3-4.4,27.3,0.9 c0,5.3,19.5,36.5,22.1,46.9s23.4,10.2,45.5,10.3c22.1,0.1,41.6-45.3,48.1-47.9c6.5-2.6,80.5-15.8,88.3-9.2 c7.8,6.6,16.9,14.4,24.7,19.6c7.8,5.2,8.3,11.5,23,15.5c14.7,4,22.5,6.6,38.1,10.5c15.6,3.9,9.1,6.3,42.9,11.6s40.7-19.9,58.5-18.6 c17.8,1.3,22.5-28.1,22.5-28.1l-0.7,532L-1.2,799.5L-0.7,375.8z"></path></g></svg></scene-element></scene-parallax><scene-parallax><scene-element top="20" width="100"><svg viewbox="0 220 1280 570"><g class="mountains0"><path d="M1278.5,308.9c11.9,4.2-8.5,8.5-44.5-20.3c-14-11.2-55-40.4-65.4-34.1 c-10.4,6.3-75.6,56.9-90,61c-14.3,4.1-50.9,30.1-70.4,23.7c-19.6-6.3-121.3-8.9-144.8-23.8c-23.5-14.9-65.2-83.8-73-81.3 c-7.8,2.5-31.3,43-44.3,46.8c-13,3.8-32.6-2.5-32.6-2.5s-22.2-22.8-26.1-22.8c-3.9,0-33.9,16.5-41.7,21.5s-54.8,43-65.2,54.4 c-10.4,11.4-60.2,43.8-72.3,41.8c-36.1-6.2-30.7-2.5-59.4-10.1c-28.7-7.6-66.5-35.4-90-40.5c-23.5-5.1-67.8-74.7-67.8-74.7 s0,0-7.8-3.8c-7.8-3.8-31.3-25.3-40.4-22.8c-9,2.5-70.9,70.8-87.4,105.5c-5.4,11.5-8.7,18.6-25,26.1c-6.2,2.8-22.8,10.5-28.7,13.9 l-23.6,5.1l-79.8,37.5V800h1280.5L1278.5,308.9z"></path></g></svg></scene-element></scene-parallax></scene-wrapper>'),e.put("app/main/sky/sky.html",'<scene-wrapper scene="scene"><scene-element top="5" width="20"><svg viewbox="0 0 64 64"><g class="moon"><circle cx="32" cy="32" r="32"></circle><g class="moon-craters"><circle cx="39" cy="12" r="7"></circle><circle cx="21" cy="45" r="12"></circle><circle cx="14" cy="25" r="9"></circle></g></g></svg></scene-element></scene-wrapper>')}]);